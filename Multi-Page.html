<!DOCTYPE html>
<html>

  <head>
    <title>Patient Questionnaire</title>
    <meta charset=utf-8 />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!--My Own CSS-->
    <link rel="stylesheet" href="themes/formatting.css" />
    <!--JQuery Mobile CSS-->
    <link rel="stylesheet" href="themes/MyTheme.css" />
    <link rel="stylesheet" href="themes/jquery.mobile.icons.min.css" />
    <link rel="stylesheet" href="http://code.jquery.com/mobile/1.4.2/jquery.mobile-1.4.2.min.css" />
    <!--JQuery js-->
    <script src="http://code.jquery.com/jquery-1.9.1.js"></script>
    <!--JQuery Mobile js-->
    <script src="http://code.jquery.com/mobile/1.4.2/jquery.mobile-1.4.2.min.js"></script>
    <!--External scripts needed for date-picker-->
    <!--<link rel="stylesheet" href="http://code.jquery.com/mobile/git/jquery.mobile-git.css" />
    <link rel="stylesheet" href="https://rawgithub.com/arschmitz/jquery-mobile-datepicker-wrapper/master/jquery.mobile.datepicker.css" />-->
    <link rel="stylesheet" href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.7.0/themes/base/jquery-ui.css" />
    <script src="https://rawgithub.com/jquery/jquery-ui/1-10-stable/ui/jquery.ui.datepicker.js"></script>
    <script src="http://code.jquery.com/mobile/git/jquery.mobile-git.js"></script>
    <script src="https://rawgithub.com/arschmitz/jquery-mobile-datepicker-wrapper/master/jquery.mobile.datepicker.js"></script>
    <!--Extrenal scripts needed for knockout library-->
    <script type='text/javascript' src="http://knockoutjs.com/downloads/knockout-3.0.0.js"></script>
    <!--Scripts needed for numpad-->
    <link rel="stylesheet" href="jquery.keypad.package-2.0.0/jquery.keypad.css" />
    <script type='text/javascript' src="jquery.keypad.package-2.0.0/jquery.plugin.js"></script>
    <script type='text/javascript' src="jquery.keypad.package-2.0.0/jquery.keypad.js"></script>
	<!--External scripts needed for imagemapster plugin-->
    <!--<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>-->
    <script src="jquery.imagemapster.js"></script>

  </head>

  <body>

	
    <div data-role="page" id="WelcomePage" data-theme="d">
      <div data-role="header">
        <h1>Patient Survey; Welcome</h1>
      </div>
      <div data-role="main" class="ui-content" style="margin-left:2%;">
        <img src="themes/myImages/NHSlogo.png" alt="NHS Scotland" width="85" height="52" id="nhsLogo"><br><br>
        <div id="centre">
		<h1>Patient Survey</h1>
		<span class="thick2">In order to speed up your assesment we would like to electronically record part of your medical history and recent symptoms. We hope you'll take the time to answer the following questions.</span>
		<br> <br> <br> <br> 
		<h1>Consent</h1>
		<span class="thick2">The information collected here will be linked to other information on your medical record. All information collected will remain strictly confidential. Information will be used for no other purpose than medical research.</span>
		<div data-role="fieldcontain">
		  <div style="width:47%;">
		    <input type="checkbox" data-bind="checked:consent" name="consent" id="consent">
		    <label for="consent">I agree to the collection of my information</label>
		  </div>
		</div>
       </div>
	<div class="ui-grid-a navButtons">
		<div class="ui-block-a">
			
		</div>
		<div class="ui-block-b">
			<a data-role="button" data-bind="visible: consent()" class="nextButton" href="#"></a>	
		</div>
	</div>
       	
	
      </div>
      <!--main content-->
      <div data-role="footer" data-position="fixed">
        <h2>&copy; Edinburgh University 2014</h2>
      </div>
    </div>
    <!--End of Page 1-->
    <div data-role="page" id="IdentificationPage" data-theme="d">
      <div data-role="header">
        <h1>Patient Survey; Personal Details</h1>
      </div>
      <div data-role="main" class="ui-content">
        <img src="themes/myImages/NHSlogo.png" alt="NHS Scotland" width="85" height="52" id="nhsLogo">
        <h1>Personal Details</h1>
        <div id="DOB">
          <label for="DOB">Date of Birth:</label>
          <div class="ui-grid-b">
            <div class="ui-block-a" style="width:20%; margin-left: 40px; margin-right: 10px;">
              <label for="day">Day</label>
              <input name="day" id="day" placeholder="DD" value="" type="text">
            </div>
            <div class="ui-block-b" style="width:20%; margin-right: 10px;">
              <label for="Month">Month</label>
              <input name="month" id="month" placeholder="MM" value="" type="text">
            </div>
            <div class="ui-block-c" style="width:30%">
              <label for="year">Year</label>
              <input name="year" id="year" placeholder="YYYY" value="" type="text">
            </div>
          </div>
          <!--grid b-->
        </div>
        <div data-role="fieldcontain">
          <legend>Gender:</legend>
          <div class="ui-grid-a">
            <div class="ui-block-a" style="width:20%; margin-left: 40px; margin-right: 10px;">
              <input type="radio" name="gender" id="female" value="female" />
              <br>
              <label for="female">Female</label>
            </div>
            <div class="ui-block-b" style="width:20%;">
              <input type="radio" name="gender" id="male" value="male" />
              <br>
              <label for="male">Male</label>
            </div>
          </div>
        </div>
        <div id="indent">
          <legend>Who is filling out this survey:</legend>
          <div style="margin-left: 40px;">
            <select name="who_fillIn_survey" id="who_fillIn_survey">
              <option value="Patient">Patient</option>
              <option value="Relative">Relative</option>
              <option value="Carer">Carer</option>
              <option value="NHS staff">NHS staff</option>
              <option value="Other">Other</option>
            </select>
          </div>
        </div>
        <a data-role="button" class="nextButton" href="#"></a>
      </div>
      <!--main content-->
      <div data-role="footer" data-position="fixed">
        <h2>&copy;Edinburgh University 2014</h2>
      </div>
    </div>
    <!--End of Page 2-->
    <div data-role="page" id="SymptomsPage" data-theme="d">
      <div data-role="header">
        <h1>Patient Survey; Symptoms</h1>
      </div>
      <div data-role="main" class="ui-content" style="margin-left:2%;">
        <img src="themes/myImages/NHSlogo.png" alt="NHS Scotland" width="85" height="52" id="nhsLogo">
	<br><br>
        <div id="datepicker" data-role="fieldcontain">
          <span class="thick2"> When did you first have symptoms?</span>
          <div class="ui-grid-a">
            <div class="ui-block-a" style="width:17%; margin-left: 40px; margin-right: 30px;">
              <input type="text" placeholder="dd/mm/yyyy" class="date-input" data-inline="false" data-role="date" readonly="readonly" data-bind="value:exactDate">
            </div>
            <div class="ui-block-b" style="width:36%;">
              <input type="checkbox" data-bind="checked:exactDateCheck" id="exactDateCheck">
              <label for="exactDateCheck">I don't remember the exact date</label>
            </div>
          </div>
        </div>
	<br>
        <div id="dynamicContent" data-bind="visible:exactDateCheck()">
          <span class="thick2"> How long ago was it before your first attack of symptoms?</span> 
          <div class="ui-grid-a">
            <div class="ui-block-a" style="width:10%; margin-left: 40px; margin-right: 30px;">
              <input type="text" id="symptom_onset" placeholder="0" value="" readonly="readonly" data-bind="value:estDate">
            </div>
            <div class="ui-block-b" style="width:20%;">
              <select name="symptom_onset" id="symptom_onset" data-bind="value:estDateUnit">
                <option value="days">days</option>
                <option value="weeks">weeks</option>
                <option value="months">months</option>
                <option value="years">years</option>
              </select>
            </div>
          </div>
	<br>
        </div>	
        <div id="frequency">
          <span class="thick2"> How many attacks of symptoms have you had?</span>
          <div class="ui-grid-a">
            <div class="ui-block-a" style="width:10%; margin-left: 40px; margin-right: 30px;">
              <input type="text" id="frequencyKeypad" placeholder="1" value="" readonly="readonly" data-bind="value:attackNo">
            </div>
            <div class="ui-block-b" style="width:20%;">
              <input type="checkbox" id="attackNoCheck" data-bind="value:attackNoCheck" />
              <br>
              <label for="attackNoCheck">I don't remeber</label>
            </div>
          </div>
        </div>
	<br>
        <div id="duration">
          <span class="thick2">How long did the symptoms last in your last attack?</span>
          <div class="ui-grid-b">
            <div class="ui-block-a" style="width:10%; margin-left: 40px; margin-right: 30px;">
              <input type="text" id="durationKeypad" placeholder="1" value="" readonly="readonly" data-bind="value:attackDuration">
            </div>
            <div class="ui-block-b" style="width:20%; margin-right: 30px;">
              <select name="time_unit" id="time_unit" data-bind="value:durationUnit">
                <option value="sec">sec</option>
                <option value="min">min</option>
                <option value="hours">hrs</option>
                <option value="days">days</option>
              </select>
            </div>
            <div class="ui-block-c" style="width:20%;">
              <input type="checkbox" id="durationCheck" data-bind="value:durationCheck" />
              <br>
              <label for="durationCheck">I don't remeber</label>
            </div>
          </div>
        </div>

	<div class="ui-grid-a navButtons" id="navSymptoms">
		<div class="ui-block-a">
			<a data-role="button" class="previousButton" href="#"></a>
		</div>
		<div class="ui-block-b">
			<a data-role="button" class="nextButton" href="#"></a>	
		</div>
	</div>
		
		<!--DEBUG:<pre data-bind="text: ko.toJSON($data,null,2)"></pre>-->
      </div>
      <!--main content-->
      <div data-role="footer" data-position="fixed">
        <h2>&copy; Edinburgh University 2014</h2>
      </div>
    </div>
    <!--End of Page 3-->
    <div data-role="page" id="SpeechProblemsPage" data-theme="d">
      <div data-role="header">
        <h1>Patient Survey; Speech Problems</h1>
      </div>
      <div data-role="main" class="ui-content" style="margin-left:2%;">
        <img src="themes/myImages/NHSlogo.png" alt="NHS Scotland" width="85" height="52" id="nhsLogo">
        <!--<h2>Speech Problems</h2>--> <br><br>
        <span class="thick2">In your last attack, did you experience:</span> <br>
 
        <div class="ui-grid-b"  style="margin-top:3%;">
   <span class="thick2">Slurred speech?</span><br>
          <div class="ui-block-a" style="width:20%; margin-left: 40px; margin-right: 10px;">
            <label for="slurredYes">Yes</label>
            <input type="radio" data-bind="checked:slurredSpeech" name="slurred" id="slurredYes" value="yes" />
          </div>
          <div class="ui-block-b" style="width:20%; margin-right: 10px;">
            <label for="slurredNo">No</label>
            <input type="radio" data-bind="checked:slurredSpeech" name="slurred" id="slurredNo" value="no" />
          </div>
          <div class="ui-block-c" style="width:20%">
            <label for="slurredDunno">I don't know</label>
            <input type="radio" data-bind="checked:slurredSpeech" name="slurred" id="slurredDunno" value="I don't know" />
          </div>
        </div>
        <!--grib b-->
  	
        <div class="ui-grid-b"  style="margin-top:3%;">  
 <span class="thick2">Difficulty speaking?</span> <br>
          <div class="ui-block-a" style="width:20%; margin-left: 40px; margin-right: 10px;">
            <label for="speakingYes">Yes</label>
            <input type="radio" data-bind="checked:speakingDifficulty" name="speaking" id="speakingYes" value="yes" />
          </div>
          <div class="ui-block-b" style="width:20%; margin-right: 10px;">
            <label for="speakingNo">No</label>
            <input type="radio" data-bind="checked:speakingDifficulty" name="speaking" id="speakingNo" value="no" />
          </div>
          <div class="ui-block-c" style="width:20%">
            <label for="speakingDunno">I don't know</label>
            <input type="radio" data-bind="checked:speakingDifficulty" name="speaking" id="speakingDunno" value="I_don't_know" />
          </div>
        </div>
        <!--grib b-->
	
        <div class="ui-grid-b" style="margin-top:3%;">
<span class="thick2">Difficulty understanding words?</span> <br>
          <div class="ui-block-a" style="width:20%; margin-left: 40px; margin-right: 10px;">
            <label for="understandingYes">Yes</label>
            <input type="radio" data-bind="checked:wordComprehension" name="understanding" id="understandingYes" value="yes" />
          </div>
          <div class="ui-block-b" style="width:20%; margin-right: 10px;">
            <label for="understandingNo">No</label>
            <input type="radio" data-bind="checked:wordComprehension" name="understanding" id="understandingNo" value="no" />
          </div>
          <div class="ui-block-c" style="width:20%">
            <label for="understandingDunno">I don't know</label>
            <input type="radio" data-bind="checked:wordComprehension" name="understanding" id="understandingDunno" value="I don't know" />
          </div>
        </div>
        <!--grib b-->
        <div class="ui-grid-a navButtons">
		<div class="ui-block-a">
			<a data-role="button" class="previousButton" href="#"></a>
		</div>
		<div class="ui-block-b">
			<a data-role="button" class="nextButton" href="#"></a>	
		</div>
	</div>
		<!--DEBUG:<pre data-bind="text: ko.toJSON($data,null,2)"></pre>-->
      </div>
      <!--main content-->
      <div data-role="footer" data-position="fixed">
        <h2>&copy; Edinburgh University 2014</h2>
      </div>
    </div>
    <!--End of SpeechProblemsPage-->
    
	<div data-role="page" id="VisionProblemsPage" data-theme="d">
      <div data-role="header">
        <h1>Patient Survey; Vision Problems</h1>
      </div>
      <div data-role="main" class="ui-content" style="margin-left:2%;">
        <img src="themes/myImages/NHSlogo.png" alt="NHS Scotland" width="85" height="52" id="nhsLogo">
        <!--<h2>Vision Problems</h2>--><br>
		<span class="thick2">In your last attack, did you:</span>  <br> 

		<div class="ui-grid-b" style="margin-top:3%;">
	<span class="thick2">Lose vision in your eyes?</span> <br>
			<div class="ui-block-a" style="width:20%; margin-left: 40px; margin-right: 10px;">	
				<label for="visionLYes">Yes</label>			  
				<input type="radio" data-bind="checked:visionLoss" name="visionLoss" id="visionLYes" value="yes"/>
			</div>
			<div class="ui-block-b" style="width:20%; margin-right: 10px;">
				<label for="visionLNo">No</label>
				<input type="radio" data-bind="checked:visionLoss" name="visionLoss" id="visionLNo" value="no"/>
			</div>
			<div class="ui-block-c" style="width:20%">
				<label for="visionLDunno">I don't know</label>
				<input type="radio" data-bind="checked:visionLoss" name="visionLoss" id="visionLDunno" value="I don't know"/>
			</div>
			
		</div><!--grib b--> 
		
		<div id="whichEye" data-bind="visible: visionLoss() == 'yes'"> 
			
			<div class="ui-grid-b" style="margin-top:3%;">
	<span class="thick2">Which eye did you lose vision in?</span><br>
				<div class="ui-block-a" style="width:25%; margin-left: 45px; margin-right: 6px;">	
					<button type="button" id="leftEye" data-bind='click: whichEyeValue' value="Left Eye"></button>	
					<label style="display: block; text-align: center;" for="leftEye"><h2>Left Eye</h2></label>		
				</div>
				<div class="ui-block-b" style="width:25%; margin-right: 6px;">
					<button type="button" id="rightEye" data-bind='click: whichEyeValue' value="Right Eye"></button>	
					<label style="display: block; text-align: center;" for="rightEye"><h2>Right Eye</h2></label>
				</div>
				<div class="ui-block-c" style="width:25%">
					<button type="button" id="bothEyes" data-bind='click: whichEyeValue' value="Both Eyes"></button>	
					<label style="display: block; text-align: center;" for="bothEyes"><h2>Both Eyes</h2></label>
				</div>
			</div><!--grib b--> 
		
			<div class="ui-grid-b" style="margin-top:1%;">
				<span class="thick2">Did you test this by closing one eye and then the other?</span><br>
				<div class="ui-block-a" style="width:20%; margin-left: 40px; margin-right: 10px;">	
					<label for="visionTYes">Yes</label>			  
					<input type="radio" data-bind="checked:visionTest" name="visionTest" id="visionTYes" value="yes"/>
				</div>
				<div class="ui-block-b" style="width:20%; margin-right: 10px;">
					<label for="visionTNo">No</label>
					<input type="radio" data-bind="checked:visionTest" name="visionTest" id="visionTNo" value="no"/>
				</div>
				<div class="ui-block-c" style="width:20%">
					<label for="visionTDunno">I don't know</label>
					<input type="radio" data-bind="checked:visionTest" name="visionTest" id="visionTDunno" value="I don't know"/>
				</div>
			</div><!--grib b--> 
		</div>
		
		<div class="ui-grid-b" style="margin-top:3%;">
				<span class="thick2">Lose vision mainly to one side of your eye?</span><br>
				<div class="ui-block-a" style="width:20%; margin-left: 40px; margin-right: 10px;">	
					<label for="visionPYes">Yes</label>			  
					<input type="radio" data-bind="checked:partialVisionLoss" name="visionPart" id="visionPYes" value="yes"/>
				</div>
				<div class="ui-block-b" style="width:20%; margin-right: 10px;">
					<label for="visionPNo">No</label>
					<input type="radio" data-bind="checked:partialVisionLoss" name="visionPart" id="visionPNo" value="no"/>
				</div>
				<div class="ui-block-c" style="width:20%">
					<label for="visionPDunno">I don't know</label>
					<input type="radio" data-bind="checked:partialVisionLoss" name="visionPart" id="visionPDunno" value="I don't know"/>
				</div>
		</div><!--grib b--> 
		
			<div class="ui-grid-b"  style="margin-top:3%;"> 
<span class="thick2">Have sparkly lights or lines in your vision?</span><br>
				<div class="ui-block-a" style="width:20%; margin-left: 40px; margin-right: 10px;">	
					<label for="visionSYes">Yes</label>			  
					<input type="radio" data-bind="checked:sparklyLight" name="sparkly" id="visionSYes" value="yes"/>
				</div>
				<div class="ui-block-b" style="width:20%; margin-right: 10px;">
					<label for="visionSNo">No</label>
					<input type="radio" data-bind="checked:sparklyLight" name="sparkly" id="visionSNo" value="no"/>
				</div>
				<div class="ui-block-c" style="width:20%">
					<label for="visionSDunno">I don't know</label>
					<input type="radio" data-bind="checked:sparklyLight" name="sparkly" id="visionSDunno" value="I don't know"/>
				</div>
		</div><!--grib b--> 
		<div class="ui-grid-a navButtons" id="navVision"> 
			<div class="ui-block-a">
				<a data-role="button" class="previousButton" href="#"></a>
			</div>
			<div class="ui-block-b">
				<a data-role="button" class="nextButton" href="#"></a>	
			</div>
		</div>
			<!--DEBUG:<pre data-bind="text: ko.toJSON($data,null,2)"></pre>-->
      </div><!--main content-->
      <div data-role="footer" data-position="fixed">
        <h2>&copy; Edinburgh University 2014</h2>
      </div>
    </div><!--End of VisionProblemsPage-->
	
	  
  <div data-role="page" id="SelectPage" data-theme="d">
      <div data-role="header">
        <h1>Patient Survey; Body</h1>
      </div>
      <div data-role="main" class="ui-content">
        <img src="themes/myImages/NHSlogo.jpg" alt="NHS Scotland" width="85" height="52" id="nhsLogo">
        <div class="ui-grid-a">
          <div class="ui-block-a blockA"><br>
            <span class="thick2">In you last attack, did you expeience:</span>
	     <div style="margin-top:14%">  
              <button class='inactive' id="numbnessBut" value="Numbness">Numbness</button>
              <button class='inactive' id="tinglingBut" value="Tingling">Tingling</button>
              <button class='inactive' id="weaknessBut" value="Weakness">Weakness</button>
              <button class='inactive' id="jerkingBut" value="Jerking">Jerking</button>
              <button class='inactive' id="tremorBut" value="Tremor">Tremor</button>
              <button class='inactive' id="painBut" value="Pain">Pain</button>
	   </div>	
           </div>
          <div class="ui-block-b" style="width:70%;">
            <h3 style="margin-top:26%;margin-left:2%;">&#x25c0;&nbsp; Select from the menu of symptoms on the left.</h3>
          	<div class="ui-grid-a navButtons">
		<div class="ui-block-a">
			<a data-role="button"  class="previousButton" href="#"></a>
		</div>
		<div class="ui-block-b">
			<a data-role="button" style="left:9%;" class="nextButton" href="#"></a>	
		</div>
	</div>
          </div>
        </div>
        <!--grid-a-->
   
        <!--DEBUG:
        <pre data-bind="text: ko.toJSON($data,null,2)"></pre>-->
      </div>
      <!--main content-->
      <div data-role="footer" data-position="fixed">
        <h2>&copy; Edinburgh University 2014</h2>
      </div>
    </div>
    <!--............................End of Select............................-->

    <div data-role="page" id="numbnessPage" data-theme="d">
      <div data-role="header">
        <h1>Patient Survey; Body</h1>
      </div>
      <div data-role="main" class="ui-content">
        <img src="themes/myImages/NHSlogo.jpg" alt="NHS Scotland" width="85" height="52" id="nhsLogo">
        <div class="ui-grid-a">
          <div class="ui-block-a blockA">
            <br><span class="thick2">In your last attack did you experience:</span>
	     <div class="menu">	
            <div class="activeBox">
              <button class='active' id="numbnessBut" value="Numbness">Numbness</button>
            </div>
            <button class='inactive' id="tinglingBut" value="Tingling">Tingling</button>
            <button class='inactive' id="weaknessBut" value="Weakness">Weakness</button>
            <button class='inactive' id="jerkingBut" value="Jerking">Jerking</button>
            <button class='inactive' id="tremorBut" value="Tremor">Tremor</button>
            <button class='inactive' id="painBut" value="Pain">Pain</button>
          </div>
	</div>
          <div class="ui-block-b blockB">
            <div id="container" style="position:relative;">
              <div id="instruc">
                <h4>Touch on the body diagram the location(s) where you felt numb  &#x25b6;</h4>
              </div>
              <!--instruc-->
              <div class="bodyMap" style="position:absolute;">		
                <IMG id="numbnessBody" SRC="themes/myImages/body.png" ALT="Site map" width="584.86" height="607.83" USEMAP="#numbnessbodyMap">
                <map name="numbnessbodyMap">
                  <area shape="rect" alt="face(R)" coords="447,25,512,146" href="#" data-bind='click: numbnessLocValue' />
                  <area shape="rect" alt="face(L)" coords="388,27,444,145" href="#" data-bind='click: numbnessLocValue' />
                  <area shape="rect" alt="arm(L)" coords="153,167,336,246" href="#" data-bind='click: numbnessLocValue' />
                  <area shape="rect" alt="hand(L)" coords="23,169,131,243" href="#" data-bind='click: numbnessLocValue' />
                  <area shape="rect" alt="arm(R)" coords="560,164,736,251" href="#" data-bind='click: numbnessLocValue' />
                  <area shape="rect" alt="hand(R)" coords="759,165,874,247" href="#" data-bind='click: numbnessLocValue' />
                  <area shape="poly" alt="chest(R)" coords="451,166,452,317,527,314,544,236,508,163" href="#" data-bind='click: numbnessLocValue' />
                  <area shape="poly" alt="chest(L)" coords="441,167,442,318,368,314,353,246,375,168" href="#" data-bind='click: numbnessLocValue' />
                  <area shape="rect" alt="leg(R)" coords="453,517,541,809" href="#" data-bind='click: numbnessLocValue' />
                  <area shape="rect" alt="leg(L)" coords="343,518,438,807" href="#" data-bind='click: numbnessLocValue' />
                  <area shape="rect" alt="foot(R)" coords="460,824,549,902" href="#" data-bind='click: numbnessLocValue' />
                  <area shape="rect" alt="foot(L)" coords="344,822,433,899" href="#" data-bind='click: numbnessLocValue' />
                  <!-- Created by Online Image Map Editor (http://www.maschek.hu/imagemap/index) -->
                </map>

              </div> <!--bodyMap-->
		  
            </div> <!--container-->
	   <div class="ui-grid-a">
		<div class="ui-block-a"> 
			<a data-role="button" class="previousButton leftBut" href="#"></a>
		</div>
		<div class="ui-block-b">
			<a data-role="button" class="nextButton rightBut" href="#"></a>	
		</div>
	  </div> 
          </div> <!--block-b-->
        </div><!--grid a-->
  
 <!--DEBUG:
        <pre data-bind="text: ko.toJSON($data,null,2)"></pre>-->
      </div>
      <!--main content-->
      <div data-role="footer" data-position="fixed">
        <h2>&copy; Edinburgh University 2014</h2>
      </div>
    </div>
    <!--............................End of NumbnessPage............................-->

<div data-role="page" id="tinglingPage" data-theme="d">
      <div data-role="header">
        <h1>Patient Survey; Body</h1>
      </div>
      <div data-role="main" class="ui-content">
        <img src="themes/myImages/NHSlogo.jpg" alt="NHS Scotland" width="85" height="52" id="nhsLogo">
        <div class="ui-grid-a">
          <div class="ui-block-a blockA"><br>
            <span class="thick2">In your last attack did you experience:</span>
	     <div class="menu">	       
              <button class='inactive' id="numbnessBut" value="numbness">Numbness</button>
            <div class="activeBox">
            <button class='active' id="tinglingBut" value="Tingling">Tingling</button>
	   </div>
            <button class='inactive' id="weaknessBut" value="Weakness">Weakness</button>
            <button class='inactive' id="jerkingBut" value="Jerking">Jerking</button>
            <button class='inactive' id="tremorBut" value="Tremor">Tremor</button>
            <button class='inactive' id="painBut" value="Pain">Pain</button>
          </div>
	</div>
          <div class="ui-block-b blockB">
            <div id="container" style="position:relative;">
              <div id="instruc">
                <h4 style="">Touch on the body diagram the location(s) where you felt tingly  &#x25b6;</h4>
              </div>
              <!--instruc-->
              <div class="bodyMap" style="position:absolute;">
                <IMG id="tinglingBody" SRC="themes/myImages/body.png" ALT="Site map" width="584.86" height="607.83" USEMAP="#tinglingbodyMap">
                <map name="tinglingbodyMap">
                  <area shape="rect" alt="face(R)" coords="447,25,512,146" href="#" data-bind='click: tinglingLocValue' />
                  <area shape="rect" alt="face(L)" coords="388,27,444,145" href="#" data-bind='click: tinglingLocValue' />
                  <area shape="rect" alt="arm(L)" coords="153,167,336,246" href="#" data-bind='click: tinglingLocValue' />
                  <area shape="rect" alt="hand(L)" coords="23,169,131,243" href="#" data-bind='click: tinglingLocValue' />
                  <area shape="rect" alt="arm(R)" coords="560,164,736,251" href="#" data-bind='click: tinglingLocValue' />
                  <area shape="rect" alt="hand(R)" coords="759,165,874,247" href="#" data-bind='click: tinglingLocValue' />
                  <area shape="poly" alt="chest(R)" coords="451,166,452,317,527,314,544,236,508,163" href="#" data-bind='click: tinglingLocValue' />
                  <area shape="poly" alt="chest(L)" coords="441,167,442,318,368,314,353,246,375,168" href="#" data-bind='click: tinglingLocValue' />
                  <area shape="rect" alt="leg(R)" coords="453,517,541,809" href="#" data-bind='click: tinglingLocValue' />
                  <area shape="rect" alt="leg(L)" coords="343,518,438,807" href="#" data-bind='click: tinglingLocValue' />
                  <area shape="rect" alt="foot(R)" coords="460,824,549,902" href="#" data-bind='click: tinglingLocValue' />
                  <area shape="rect" alt="foot(L)" coords="344,822,433,899" href="#" data-bind='click: tinglingLocValue' />
                  <!-- Created by Online Image Map Editor (http://www.maschek.hu/imagemap/index) -->
                </map>
              </div> <!--bodyMap-->
            </div> <!--container-->
	   <div class="ui-grid-a">
		<div class="ui-block-a"> 
			<a data-role="button" class="previousButton leftBut" href="#"></a>
		</div>
		<div class="ui-block-b">
			<a data-role="button" class="nextButton rightBut" href="#"></a>	
		</div>
	  </div> </div>
	</div>
          </div> <!--block-b-->
        </div><!--grid a-->
  
 DEBUG:
        <pre data-bind="text: ko.toJSON($data,null,2)"></pre>
      </div>
      <!--main content-->
      <div data-role="footer" data-position="fixed">
        <h2>&copy; Edinburgh University 2014</h2>
      </div>
    </div>
    <!--............................End of tinglingPage............................-->

<div data-role="page" id="weaknessPage" data-theme="d">
      <div data-role="header">
        <h1>Patient Survey; Body</h1>
      </div>
      <div data-role="main" class="ui-content">
        <img src="themes/myImages/NHSlogo.jpg" alt="NHS Scotland" width="85" height="52" id="nhsLogo">
        <div class="ui-grid-a">
          <div class="ui-block-a blockA"> <br>
             <span class="thick2">In your last attack did you experience:</span>
	     <div class="menu">	       
              <button class='inactive' id="numbnessBut" value="numbness">Numbness</button>
	    <button class='inactive' id="tinglingBut" value="Tingling">Tingling</button>
            <div class="activeBox">
            <button class='active' id="weaknessBut" value="weakness">Weakness</button>
	   </div>
            <button class='inactive' id="jerkingBut" value="Jerking">Jerking</button>
            <button class='inactive' id="tremorBut" value="Tremor">Tremor</button>
            <button class='inactive' id="painBut" value="Pain">Pain</button>
          </div>
	</div>
          <div class="ui-block-b blockB">
            <div id="container" style="position:relative;">
              <div id="instruc">
                <h4 style="">Touch on the body diagram the location(s) where you felt weak  &#x25b6;</h4>
              </div>
              <!--instruc-->
              <div class="bodyMap" style="position:absolute;">
                <IMG id="weaknessBody" SRC="themes/myImages/body.png" ALT="Site map" width="584.86" height="607.83"  USEMAP="#weaknessbodyMap">
                <map name="weaknessbodyMap">
                  <area shape="rect" alt="face(R)" coords="447,25,512,146" href="#" data-bind='click: weaknessLocValue' />
                  <area shape="rect" alt="face(L)" coords="388,27,444,145" href="#" data-bind='click: weaknessLocValue' />
                  <area shape="rect" alt="arm(L)" coords="153,167,336,246" href="#" data-bind='click: weaknessLocValue' />
                  <area shape="rect" alt="hand(L)" coords="23,169,131,243" href="#" data-bind='click: weaknessLocValue' />
                  <area shape="rect" alt="arm(R)" coords="560,164,736,251" href="#" data-bind='click: weaknessLocValue' />
                  <area shape="rect" alt="hand(R)" coords="759,165,874,247" href="#" data-bind='click: weaknessLocValue' />
                  <area shape="poly" alt="chest(R)" coords="451,166,452,317,527,314,544,236,508,163" href="#" data-bind='click: weaknessLocValue' />
                  <area shape="poly" alt="chest(L)" coords="441,167,442,318,368,314,353,246,375,168" href="#" data-bind='click: weaknessLocValue' />
                  <area shape="rect" alt="leg(R)" coords="453,517,541,809" href="#" data-bind='click: weaknessLocValue' />
                  <area shape="rect" alt="leg(L)" coords="343,518,438,807" href="#" data-bind='click: weaknessLocValue' />
                  <area shape="rect" alt="foot(R)" coords="460,824,549,902" href="#" data-bind='click: weaknessLocValue' />
                  <area shape="rect" alt="foot(L)" coords="344,822,433,899" href="#" data-bind='click: weaknessLocValue' />
                  <!-- Created by Online Image Map Editor (http://www.maschek.hu/imagemap/index) -->
                </map>
              </div> <!--bodyMap-->
            </div> <!--container-->
	   <div class="ui-grid-a">
		<div class="ui-block-a"> 
			<a data-role="button" class="previousButton leftBut" href="#"></a>
		</div>
		<div class="ui-block-b">
			<a data-role="button" class="nextButton rightBut" href="#"></a>	
		</div>
	  </div> 
          </div> <!--block-b-->
        </div><!--grid a-->
  
 DEBUG:
        <pre data-bind="text: ko.toJSON($data,null,2)"></pre>
      </div>
      <!--main content-->
      <div data-role="footer" data-position="fixed">
        <h2>&copy; Edinburgh University 2014</h2>
      </div>
    </div>
    <!--............................End of weaknessPage............................-->

<div data-role="page" id="jerkingPage" data-theme="d">
      <div data-role="header">
        <h1>Patient Survey; Body</h1>
      </div>
      <div data-role="main" class="ui-content">
        <img src="themes/myImages/NHSlogo.jpg" alt="NHS Scotland" width="85" height="52" id="nhsLogo">
        <div class="ui-grid-a">
          <div class="ui-block-a blockA"><br>
            <span class="thick2">In your last attack did you experience:</span>
	     <div class="menu">	       
              <button class='inactive' id="numbnessBut" value="numbness">Numbness</button>
	    <button class='inactive' id="tinglingBut" value="Tingling">Tingling</button>
            <button class='inactive' id="weaknessBut" value="wWeakness">Weakness</button>
            <div class="activeBox">
            <button class='active' id="jerkingBut" value="Jerking">Jerking</button>
	   </div>
            <button class='inactive' id="tremorBut" value="Tremor">Tremor</button>
            <button class='inactive' id="painBut" value="Pain">Pain</button>
          </div>
	</div>
          <div class="ui-block-b blockB">
            <div id="container" style="position:relative;">
              <div id="instruc">
                <h4 style="">Touch on the body diagram the location(s) where you felt jerking  &#x25b6;</h4>
              </div>
              <!--instruc-->
              <div class="bodyMap" style="position:absolute;">
                <IMG id="jerkingBody" SRC="themes/myImages/body.png" ALT="Site map" width="584.86" height="607.83"  USEMAP="#jerkingbodyMap">
                <map name="jerkingbodyMap">
                  <area shape="rect" alt="face(R)" coords="447,25,512,146" href="#" data-bind='click: jerkingLocValue' />
                  <area shape="rect" alt="face(L)" coords="388,27,444,145" href="#" data-bind='click: jerkingLocValue' />
                  <area shape="rect" alt="arm(L)" coords="153,167,336,246" href="#" data-bind='click: jerkingLocValue' />
                  <area shape="rect" alt="hand(L)" coords="23,169,131,243" href="#" data-bind='click: jerkingLocValue' />
                  <area shape="rect" alt="arm(R)" coords="560,164,736,251" href="#" data-bind='click: jerkingLocValue' />
                  <area shape="rect" alt="hand(R)" coords="759,165,874,247" href="#" data-bind='click: jerkingLocValue' />
                  <area shape="poly" alt="chest(R)" coords="451,166,452,317,527,314,544,236,508,163" href="#" data-bind='click: jerkingLocValue' />
                  <area shape="poly" alt="chest(L)" coords="441,167,442,318,368,314,353,246,375,168" href="#" data-bind='click: jerkingLocValue' />
                  <area shape="rect" alt="leg(R)" coords="453,517,541,809" href="#" data-bind='click: jerkingLocValue' />
                  <area shape="rect" alt="leg(L)" coords="343,518,438,807" href="#" data-bind='click: jerkingLocValue' />
                  <area shape="rect" alt="foot(R)" coords="460,824,549,902" href="#" data-bind='click: jerkingLocValue' />
                  <area shape="rect" alt="foot(L)" coords="344,822,433,899" href="#" data-bind='click: jerkingLocValue' />
                  <!-- Created by Online Image Map Editor (http://www.maschek.hu/imagemap/index) -->
                </map>
              </div> <!--bodyMap-->
            </div> <!--container-->
	   <div class="ui-grid-a">
		<div class="ui-block-a"> 
			<a data-role="button" class="previousButton leftBut" href="#"></a>
		</div>
		<div class="ui-block-b">
			<a data-role="button" class="nextButton rightBut" href="#"></a>	
		</div>
	  </div> 
          </div> <!--block-b-->
        </div><!--grid a-->
  
 DEBUG:
        <pre data-bind="text: ko.toJSON($data,null,2)"></pre>
      </div>
      <!--main content-->
      <div data-role="footer" data-position="fixed">
        <h2>&copy; Edinburgh University 2014</h2>
      </div>
    </div>
    <!--............................End of jerkingPage............................-->

<div data-role="page" id="tremorPage" data-theme="d">
      <div data-role="header">
        <h1>Patient Survey; Body</h1>
      </div>
      <div data-role="main" class="ui-content">
        <img src="themes/myImages/NHSlogo.jpg" alt="NHS Scotland" width="85" height="52" id="nhsLogo">
        <div class="ui-grid-a">
          <div class="ui-block-a blockA"><br>
            <span class="thick2">In your last attack did you experience:</span>
	     <div class="menu">	       
              <button class='inactive' id="numbnessBut" value="numbness">Numbness</button>
	    <button class='inactive' id="tinglingBut" value="Tingling">Tingling</button>
            <button class='inactive' id="weaknessBut" value="Weakness">Weakness</button>
            <button class='inactive' id="jerkingBut" value="Jerking">Jerking</button>
            <div class="activeBox">
            <button class='active' id="tremorBut" value="Tremor">Tremor</button>
	   </div>
            <button class='inactive' id="painBut" value="Pain">Pain</button>
          </div>
	</div>
          <div class="ui-block-b blockB">
            <div id="container" style="position:relative;">
              <div id="instruc">
                <h4 style="">Touch on the body diagram the location(s) where you felt tremor  &#x25b6;</h4>
              </div>
              <!--instruc-->
              <div class="bodyMap" style="position:absolute;">
                <IMG id="tremorBody" SRC="themes/myImages/body.png" ALT="Site map" width="584.86" height="607.83"  USEMAP="#tremorbodyMap">
                <map name="tremorbodyMap">
                  <area shape="rect" alt="face(R)" coords="447,25,512,146" href="#" data-bind='click: tremorLocValue' />
                  <area shape="rect" alt="face(L)" coords="388,27,444,145" href="#" data-bind='click: tremorLocValue' />
                  <area shape="rect" alt="arm(L)" coords="153,167,336,246" href="#" data-bind='click: tremorLocValue' />
                  <area shape="rect" alt="hand(L)" coords="23,169,131,243" href="#" data-bind='click: tremorLocValue' />
                  <area shape="rect" alt="arm(R)" coords="560,164,736,251" href="#" data-bind='click: tremorLocValue' />
                  <area shape="rect" alt="hand(R)" coords="759,165,874,247" href="#" data-bind='click: tremorLocValue' />
                  <area shape="poly" alt="chest(R)" coords="451,166,452,317,527,314,544,236,508,163" href="#" data-bind='click: tremorLocValue' />
                  <area shape="poly" alt="chest(L)" coords="441,167,442,318,368,314,353,246,375,168" href="#" data-bind='click: tremorLocValue' />
                  <area shape="rect" alt="leg(R)" coords="453,517,541,809" href="#" data-bind='click: tremorLocValue' />
                  <area shape="rect" alt="leg(L)" coords="343,518,438,807" href="#" data-bind='click: tremorLocValue' />
                  <area shape="rect" alt="foot(R)" coords="460,824,549,902" href="#" data-bind='click: tremorLocValue' />
                  <area shape="rect" alt="foot(L)" coords="344,822,433,899" href="#" data-bind='click: tremorLocValue' />
                  <!-- Created by Online Image Map Editor (http://www.maschek.hu/imagemap/index) -->
                </map>
              </div> <!--bodyMap-->
            </div> <!--container-->
	    <div class="ui-grid-a">
		<div class="ui-block-a"> 
			<a data-role="button" class="previousButton leftBut" href="#"></a>
		</div>
		<div class="ui-block-b">
			<a data-role="button" class="nextButton rightBut" href="#"></a>	
		</div>
	  </div>  
          </div> <!--block-b-->
        </div><!--grid a-->
  
 DEBUG:
        <pre data-bind="text: ko.toJSON($data,null,2)"></pre>
      </div>
      <!--main content-->
      <div data-role="footer" data-position="fixed">
        <h2>&copy; Edinburgh University 2014</h2>
      </div>
    </div>
    <!--............................End of tremorPage............................-->

<div data-role="page" id="painPage" data-theme="d">
      <div data-role="header">
        <h1>Patient Survey; Body</h1>
      </div>
      <div data-role="main" class="ui-content">
        <img src="themes/myImages/NHSlogo.jpg" alt="NHS Scotland" width="85" height="52" id="nhsLogo">
        <div class="ui-grid-a">
          <div class="ui-block-a blockA"><br>
            <span class="thick2">In your last attack did you experience:</span>
	     <div class="menu">	       
              <button class='inactive' id="numbnessBut" value="numbness">Numbness</button>
	    <button class='inactive' id="tinglingBut" value="Tingling">Tingling</button>
            <button class='inactive' id="weaknessBut" value="wWeakness">Weakness</button>
            <button class='inactive' id="jerkingBut" value="Jerking">Jerking</button>
            <button class='inactive' id="tremorBut" value="Tremor">Tremor</button>
            <div class="activeBox">
            <button class='active' id="painBut" value="Pain">Pain</button>
	   </div>
          </div>
	</div>
          <div class="ui-block-b blockB">
            <div id="container" style="position:relative;">
              <div id="instruc">
                <h4 >Touch on the body diagram the location(s) where you felt pain  &#x25b6;</h4>
              </div>
              <!--instruc-->
              <div class="bodyMap" style="position:absolute;">
                <IMG id="painBody" SRC="themes/myImages/body.png" ALT="Site map" width="584.86" height="607.83"  USEMAP="#painbodyMap">
                <map name="painbodyMap">
                  <area shape="rect" alt="face(R)" coords="447,25,512,146" href="#" data-bind='click: painLocValue' />
                  <area shape="rect" alt="face(L)" coords="388,27,444,145" href="#" data-bind='click: painLocValue' />
                  <area shape="rect" alt="arm(L)" coords="153,167,336,246" href="#" data-bind='click: painLocValue' />
                  <area shape="rect" alt="hand(L)" coords="23,169,131,243" href="#" data-bind='click: painLocValue' />
                  <area shape="rect" alt="arm(R)" coords="560,164,736,251" href="#" data-bind='click: painLocValue' />
                  <area shape="rect" alt="hand(R)" coords="759,165,874,247" href="#" data-bind='click: painLocValue' />
                  <area shape="poly" alt="chest(R)" coords="451,166,452,317,527,314,544,236,508,163" href="#" data-bind='click: painLocValue' />
                  <area shape="poly" alt="chest(L)" coords="441,167,442,318,368,314,353,246,375,168" href="#" data-bind='click: painLocValue' />
                  <area shape="rect" alt="leg(R)" coords="453,517,541,809" href="#" data-bind='click: painLocValue' />
                  <area shape="rect" alt="leg(L)" coords="343,518,438,807" href="#" data-bind='click: painLocValue' />
                  <area shape="rect" alt="foot(R)" coords="460,824,549,902" href="#" data-bind='click: painLocValue' />
                  <area shape="rect" alt="foot(L)" coords="344,822,433,899" href="#" data-bind='click: painLocValue' />
                  <!-- Created by Online Image Map Editor (http://www.maschek.hu/imagemap/index) -->
                </map>
              </div> <!--bodyMap-->
            </div> <!--container-->
	    <div class="ui-grid-a">
		<div class="ui-block-a"> 
			<a data-role="button" class="previousButton leftBut" href="#"></a>
		</div>
		<div class="ui-block-b">
			<a data-role="button" class="nextButton rightBut" href="#"></a>	
		</div>
	  </div> 
          </div> <!--block-b-->
        </div><!--grid a-->
  
 DEBUG:
        <pre data-bind="text: ko.toJSON($data,null,2)"></pre>
      </div>
      <!--main content-->
      <div data-role="footer" data-position="fixed">
        <h2>&copy; Edinburgh University 2014</h2>
      </div>
    </div>
    <!--............................End of painPage............................-->
	
	<div data-role="page" id="OtherSymptomsPage" data-theme="d">
      <div data-role="header">
        <h1>Patient Survey; Other Symptoms</h1>
      </div>
    <div data-role="main" class="ui-content" style="margin-left:2%;">
        <img src="themes/myImages/NHSlogo.png" alt="NHS Scotland" width="85" height="52" id="nhsLogo">
        <!--<h2>Other Symptoms</h2>--><br><br>
		
		<span class="thick2">In your last attack, did you ever feel:</span>
       <div class="ui-grid-b" style="margin-top:3%;">
			<span class="thick2">Light headed?</span> <br>
			<div class="ui-block-a" style="width:20%; margin-left: 40px; margin-right: 10px;">	
				<label for="lightYes">Yes</label>			  
				<input type="radio" data-bind="checked:lightHeaded" name="light" id="lightYes" value="yes"/>
			</div>
			<div class="ui-block-b" style="width:20%; margin-right: 10px;">
				<label for="lightNo">No</label>
				<input type="radio" data-bind="checked:lightHeaded" name="light" id="lightNo" value="no"/>
			</div>
			<div class="ui-block-c" style="width:20%">
				<label for="lightDunno">I don't know</label>
				<input type="radio" data-bind="checked:lightHeaded" name="light" id="lightDunno" value="I don't know"/>
			</div>
		</div><!--grib b-->
		
		<div class="ui-grid-b" style="margin-top:3%;">
		<span class="thick2">Like your head was spinning (vertigo)?</span> <br>
			<div class="ui-block-a" style="width:20%; margin-left: 40px; margin-right: 10px;">	
				<label for="vertigoYes">Yes</label>			  
				<input type="radio" data-bind="checked:vertigo" name="vertigo" id="vertigoYes" value="yes"/>
			</div>
			<div class="ui-block-b" style="width:20%; margin-right: 10px;">
				<label for="vertigoNo">No</label>
				<input type="radio" data-bind="checked:vertigo" name="vertigo" id="vertigoNo" value="no"/>
			</div>
			<div class="ui-block-c" style="width:20%">
				<label for="vertigoDunno">I don't know</label>
				<input type="radio" data-bind="checked:vertigo" name="vertigo" id="vertigoDunno" value="I don't know"/>
			</div>
		</div><!--grib b-->
	<div style="margin-top:3%;">
		<span class="thick2">Slide the bar to indicate how suddenly your symptoms began:</span> <br>
		<div style="width: 58%; position:absolute; left:6%">
			<input type="range" name="slider" id="slider" min="0" max="10" step="1" data-bind="value: symptomIntensity, slider: symptomIntensity"/> 
			<label for="slider"><h3 id="min">Gradual</h3> <h3 id="max">Sudden</h3></label>
		</div>
	</div>
             <div class="ui-grid-a navButtons">
			<div class="ui-block-a">
				<a data-role="button" class="previousButton" href="#"></a>
			</div>
			<div class="ui-block-b">
				<a data-role="button" class="nextButton" href="#"></a>	
			</div>
	    </div>
		<!--DEBUG: <pre data-bind="text: ko.toJSON($data,null,2)"></pre>-->  
    </div><!--main content-->
      <div data-role="footer" data-position="fixed">
        <h2>&copy; Edinburgh University 2014</h2>
      </div>
	</div><!--End of OtherSymptomsPage-->
	
	<div data-role="page" id="MedicalHistoryPage" data-theme="d">
      <div data-role="header">
        <h1>Patient Survey; Medical History</h1>
      </div>
    <div data-role="main" class="ui-content" style="margin-left:2%;">
        <img src="themes/myImages/NHSlogo.png" alt="NHS Scotland" width="85" height="52" id="nhsLogo">
		
		<div class="ui-grid-b" style="margin-top:3%;">
		<span class="thick2">Have you had any other symptoms?</span><br>
			<div class="ui-block-a" style="width:20%; margin-left: 40px; margin-right: 10px;">	
				<label for="otherYes">Yes</label>			  
				<input type="radio" data-bind="checked:otherSymptoms" name="otherSymptoms" id="otherYes" value="yes"/>
			</div>
			<div class="ui-block-b" style="width:20%; margin-right: 10px;">
				<label for="otherNo">No</label>
				<input type="radio" data-bind="checked:otherSymptoms" name="otherSymptoms" id="otherNo" value="no"/>
			</div>
			<div class="ui-block-c" style="width:20%">
				<label for="otherDunno">I don't know</label>
				<input type="radio" data-bind="checked:otherSymptoms" name="otherSymptoms" id="otherDunno" value="I don't know"/>
			</div>
		</div><!--grib b-->
		
		<div id="other"data-bind="visible: otherSymptoms() == 'yes'">
			<span class="thick2"> Which of the following symptoms did you have:</span><br>
		<div style="width:30%; margin-left:3%" >
			<label for="vomiting">Vomiting</label>	
			<input type="checkbox" data-bind="checked:vomiting" value="vomiting" id="vomiting"/>
			<label for="collapse">Collapse</label>
			<input type="checkbox" data-bind="checked:collapse" value="collapse" id="collapse"/>
			<label for="memoryLoss">Memory Loss</label>
			<input type="checkbox" data-bind="checked:memoryLoss" value="memoryLoss" id="memoryLoss"/>
			<label for="doubleVision">Double Vision</label>
			<input type="checkbox" data-bind="checked:doubleVision" value="doubleVision" id="doubleVision"/>
			<label for="heartPalpatations">Heart Palpatations</label>
			<input type="checkbox" data-bind="checked:heartPalpatations" value="heartPalpatations" id="heartPalpatations"/>			
		</div>
</div> <!--dynamic content-->
        <h2>Medical History</h2>

		<span class="thick2"> Before your current symptoms you had/have:</span><br>
		<div style="width:30%; margin-left:3%;">		
			<label for="heartAttack">Heart attack/ angina</label>	
			<input type="checkbox" data-bind="checked:heartAttack" value="heartAttack" id="heartAttack"/>
			<label for="stroke">Stroke/ Mini stroke</label>
			<input type="checkbox" data-bind="checked:stroke" value="stroke" id="stroke"/>
			<label for="cancer">Cancer</label>
			<input type="checkbox" data-bind="checked:cancer" value="cancer" id="cancer"/>
			<label for="epilepsy">Epilepsy</label>
			<input type="checkbox" data-bind="checked:epilepsy" value="epilepsy" id="epilepsy"/>			
		</div>
	   <div class="ui-grid-a navButtons" id="navOtherSymp">
			<div class="ui-block-a">
				<a data-role="button" class="previousButton" href="#"></a>
			</div>
			<div class="ui-block-b">
				<a data-role="button" class="nextButton" href="#"></a>	
			</div>
		</div>
	<!--DEBUG:<pre data-bind="text: ko.toJSON($data,null,2)"></pre>-->
    </div><!--main content-->
      <div data-role="footer" data-position="fixed">
        <h2>&copy; Edinburgh University 2014</h2>
      </div>
	</div><!--End of MedicalHistoryPage-->
	
	
	<div data-role="page" id="SnapInstructionsPage" data-theme="d">
      <div data-role="header">
        <h1>Patient Survey; How to Play</h1>
      </div>
      <div data-role="main" class="ui-content">
     
          <img src="themes/myImages/NHSlogo.png" alt="NHS Scotland" width="85" height="52" id="nhsLogo">
          <div id='step1'>
            <h2>In order to measure your reaction time, a game of 'Snap' will now follow.</h2>
            <br>
            <button id='step2But'><span style="position:absolute;margin-top:-9%;left:10%;">Learn How to Play <span style="font-size:30px;">&#x25b6;</span></span></button>
          </div>
          <div id='step2'>
            <span class="thick2">1. You will be shown two picture cards. If the two cards match, touch anywhere on the screen as fast as you can.</span>
            <img src="themes/myImages/snapCards.png"  alt="snapCards" class="snapCard">
            <button id='step3But'><span class='but'>Next <span style="font-size:30px;">&#x25b6;</span></span></button>
			<button id='step3ButP'><span class='but2'><span style="font-size:30px;">&#x25c0;</span> Previous</span></button>
          </div>
          <div id='step3'>
            <span class="thick2">2. If you are correct the message 'Snap!' will appear.</span>
            <img src="themes/myImages/snapCorrect.png" alt="snapCorrect"  class="snapCard">
            <button  id='step4But'><span class='but'>Next <span style="font-size:30px;">&#x25b6;</span></span></button>
		    <button  id='step4ButP'><span class='but2'><span style="font-size:30px;">&#x25c0;</span> Previous</span></button>
          </div>
          <div id='step4'>
            <span class="thick2">3. If you are wrong a red 'X' will appear.</span>
            <img src="themes/myImages/snapIncorrect.png" alt="snapWrong"  class="snapCard">
           <button id='step5ButP'><span class='but2'> <span style="font-size:30px;">&#x25c0;</span> Previous</span></button>			
			<a data-role="button" id="playSnap" href="#"><span style="font-size:25px;">Play <br>Snap!</span><span style="position:absolute;bottom:9%;font-size:56px;">&#x3009;</span></a>
          </div>
        </div>
      <!--main content-->
      <div data-role="footer" data-position="fixed">
        <h2>&copy; Edinburgh University 2014</h2>
      </div>
  
    </div>
    <!--End of SnapInstructionPage-->
	
    <div data-role="page" id="SnapPage" data-theme="d">
      <div data-role="header">
        <h1>Patient Survey; Snap!</h1>
      </div>
      <div data-role="main" class="ui-content">
        <div id='snapWrapper'>		
          <div class="ui-grid-b" style="margin-top:7%;position:relative;">
            <div class="ui-block-a" style="width:20%; margin-left:28%;margin-right:5%;">
              <div id="card1" class='snap'></div>
            </div>
            <div class="ui-block-b" style="width:20% margin-left:36%;"> 
			  <div id="card2" class='snap'></div>
            </div>
          </div>
          <!-- /grid-a -->
		  
		  <div id='snapOverlay'></div> 
        </div><!--snapWrapper-->
		  <div id='gameMsg'></div>
          <div id='score'></div>
       
		<!--DEBUG: <pre data-bind="text: ko.toJSON($data,null,2)"></pre>-->
        <a style='visibility:hidden;' id="nxtButnSnap" data-role="button" class="nextButton" href="#" ></a>
      </div>
      <!--main content-->
      <div data-role="footer" data-position="fixed">
        <h2>&copy; Edinburgh University 2014</h2>
      </div>   
    </div>
    <!--End of SnapPage-->
	
	
  	<div data-role="page" id="PairsInstructionsPage" data-theme="d">
      <div data-role="header">
        <h1>Patient Survey; How to Play</h1>
      </div>
      <div data-role="main" class="ui-content">
     
          <img src="themes/myImages/NHSlogo.png" alt="NHS Scotland" width="85" height="52" id="nhsLogo">
          <div id='p_step1'>
            <h2>In order to examine your memory, a game of 'Pairs' will now follow.</h2>
            <br>
            <button id='pstep2But'><span style="position:absolute;margin-top:-9%;left:10%;">Learn How to Play <span style="font-size:30px;">&#x25b6;</span></span></button>
          </div>
          <div id='p_step2'>
            <span class="thick">1. You will be shown a group of picture cards. Try to remember where the pairs are.</span>
            <img src="themes/myImages/pairsCardsFaceUp.png"  alt="pairs cards" class="pairCard">
            <button id='pstep3But'><span class='but'>Next <span style="font-size:30px;">&#x25b6;</span></span></button>
			<button id='pstep3ButP'><span class='but2'><span style="font-size:30px;">&#x25c0;</span> Previous</span></button>
          </div>
          <div id='p_step3'>
            <span class="thick">2. You have 3 seconds before the cards are turned over. Select each pair by touching them on the screen.</span>
            <img src="themes/myImages/pairsCardsFaceDown.png" alt="cards face down"  class="pairCard">
            <button  id='pstep4But'><span class='but'>Next <span style="font-size:30px;">&#x25b6;</span></span></button>
		    <button  id='pstep4ButP'><span class='but2'><span style="font-size:30px;">&#x25c0;</span> Previous</span></button>
          </div>
          <div id='p_step4'>
            <span class="thick">3. If you are correct, a message saying "pair!" will appear.</span>
            <img src="themes/myImages/pairsCardsCorrect.png" alt="pairs! message"  class="pairCard">
           <button id='pstep5ButP'><span class='but2'> <span style="font-size:30px;">&#x25c0;</span> Previous</span></button>			
			<button  id='pstep5But'><span class='but'>Next <span style="font-size:30px;">&#x25b6;</span></span></button>
          </div>
		   <div id="pairsWrapper" style="position: relative;">
		   <div id='p_step5'>
            <span style="font-size: 20px;font-weight:900;">4. If you are wrong a message saying "miss" will appear.</span>
            <img src="themes/myImages/pairsCardsIncorrect.png" alt="miss message"  class="pairCard">			
           <button id='pstep6ButP'><span class='but2'> <span style="font-size:30px;">&#x25c0;</span> Previous</span></button>			   
			<a data-role="button" id="tryDemo" href="#"><span style="font-size:25px;">Try <br>Demo</span><span style="position:absolute;bottom:9%;font-size:56px;">&#x3009;</span></a>
          </div><!--Step 5-->
		  <div id="p_step55">
		  <span style="font-size: 20px;font-weight:900;">Next is demo of "Pairs" with 3 pairs of cards.
		  <br> <br> This will be followed by "Pairs" with 6 pairs of cards.</span></div>
		  </div> <!--pairsWrapper-->	
        </div>
      <!--main content-->
      <div data-role="footer" data-position="fixed">
        <h2>&copy; Edinburgh University 2014</h2>
      </div>
  
    </div>
    <!--End of PairsInstructionPage-->

	    <div data-role="page" id="PairsDemoPage" data-theme="d">
      <div data-role="header">
        <h1>Patient Survey; Pairs Demo</h1>
      </div>
      <div data-role="main" class="ui-content">
	  <div id='pairsWrapper'>
        <div class="ui-grid-b" style="position: relative;">
          <div class="ui-block-a" style="width: 16%; margin-top:5%; margin-left: 290px;">
            <div id="stPairDemA" class="stPair"></div>
          </div>
          <div class="ui-block-b" style="width: 16%; margin-top:5%;margin-left: 50px;">
             <div id="ndPairDemA" class="ndPair"></div>
          </div>
          <div class="ui-block-c" style="width: 16%; margin-top:5%;margin-left: 50px;">
             <div id="rdPairDemA" class="rdPair"></div>
          </div>
          <div class="ui-block-a" style="width: 16%; margin-top:5%;margin-left: 290px;">
            <div id="rdPairDemB" class="rdPair"></div>
          </div>
          <div class="ui-block-b" style="width:16%; margin-top:5%;margin-left: 50px;">
            <div id="ndPairDemB" class="ndPair"></div>
          </div>
          <div class="ui-block-c" style="width: 16%; margin-top:5%;margin-left: 50px;">
            <div id="stPairDemB" class="stPair"></div>
          </div>
        </div>  <!-- /grid-b -->
         <div id='pairsOverlay'></div> 
        </div><!--snapWrapper-->
      
      <a data-role="button" class="nextButton" href="#"></a>DEBUG:
      <pre data-bind="text: ko.toJSON($data,null,2)"></pre>
    </div>
    <!--main content-->
		<div data-role="footer" data-position="fixed">
		  <h2>&copy; Edinburgh University 2014</h2>
		</div>
    </div>
    <!--End of PairsDemoPage-->
	 <div data-role="page" id="PairsPage" data-theme="d">
      <div data-role="header">
        <h1>Patient Survey; Pairs</h1>
      </div>
      <div data-role="main" class="ui-content">
	 <div id='pairsWrapper'>
        <div class="ui-grid-c">
		<!-- ************************ ROW 1 ****************************-->
          <div class="ui-block-a grdA">
            <div id="stPairA" class="stPair"></div>
          </div>
          <div class="ui-block-b grdB">
            <div id="ndPairA" class="ndPair"></div>
          </div>
          <div class="ui-block-c grdC">
            <div id="rdPairA" class="rdPair"></div>
          </div>
		   <div class="ui-block-d grdD">
            <div id="fthPairA" class="fthPair"></div>
          </div>
		  <!-- ************************ ROW 2 ****************************-->
          <div class="ui-block-a grdA">
            <div id="rthPairA" class="rthPair"></div>
          </div>
          <div class="ui-block-b grdB">
            <div id="ndPairB" class="ndPair"></div>
          </div>
          <div class="ui-block-c grdC">
            <div id="thPairA" class="thPair"></div>
          </div>
		   <div class="ui-block-d grdD">
            <div id="rdPairB" class="rdPair"></div>
          </div>
		  <!-- ************************ ROW 3 ****************************-->
		  <div class="ui-block-a grdA"> 
            <div id="fthPairB" class="fthPair"></div>
          </div>
          <div class="ui-block-b grdB">
            <div id="stPairB" class="stPair"></div>
          </div>
          <div class="ui-block-c grdC">
            <div id="thPairB" class="thPair"></div>
          </div>
		   <div class="ui-block-d grdD">
            <div id="rthPairB" class="rthPair"></div>
          </div>
        </div>  <!-- /grid-c -->
         <div id='pairsOverlay'></div> 
        </div><!--pairsWrapper-->
      
      <a data-role="button" class="nextButton" href="#"></a>
     
    </div>
    <!--main content-->
		<div data-role="footer" data-position="fixed">
		  <h2>&copy; Edinburgh University 2014</h2>
		</div>
    </div>
    <!--End of PairsPage-->
	
	
	
    <script type='text/javascript'>
/*custom binding handler thanks to Varun http://stackoverflow.com/a/16493161/2308978*/
    ko.bindingHandlers.slider = {
    init: function(element, valueAccessor, allBindingsAccessor, viewModel, bindingContext) {
        var value = valueAccessor();
        $(element).attr("value", value());
            $(document).on({
                "change": function (elem) {
                var sliderVal = $('#' + element.id).val();
                value(sliderVal);
            }
        }, ".ui-slider");
    }
 };
      var viewModel = {
        consent: ko.observable(false),
        id: ko.observable(),
        respodentValue: ko.observable("Patient"),
        exactDate: ko.observable(),
        exactDateCheck: ko.observable(),
        estDate: ko.observable(),
        estDateUnit: ko.observable(),
        attackNo: ko.observable(),
        attackNoCheck: ko.observable(),
        attackDuration: ko.observable(),
        durationUnit: ko.observable(),
        durationCheck: ko.observable(),
        slurredSpeech: ko.observable(),
        speakingDifficulty: ko.observable(),
        wordComprehension: ko.observable(),
        visionLoss: ko.observable(),
		whichEye: ko.observable(),
		whichEyeValue: function(data, element) {this.whichEye($(element.target).val());},
		visionTest: ko.observable(),
		partialVisionLoss: ko.observable(),
		sparklyLight: ko.observable(),
		lightHeaded: ko.observable(),
		vertigo: ko.observable(),
		symptomIntensity: ko.observable(),
		otherSymptoms: ko.observable(),
        vomiting: ko.observable(),
        collapse: ko.observable(),
        memoryLoss: ko.observable(),
        doubleVision: ko.observable(),
        heartPalpatations: ko.observable(),
		heartAttack: ko.observable(),
        stroke: ko.observable(),
        cancer: ko.observable(),
        epilepsy: ko.observable(),
		numbnessLoc: ko.observableArray(),
        numbnessLocValue: function(data, element) {
          this.numbnessLoc.push($(element.target).attr('alt'));
        },
        tinglingLoc: ko.observableArray(),
        tinglingLocValue: function(data, element) {
          this.tinglingLoc.push($(element.target).attr('alt'));
        },
        weaknessLoc: ko.observableArray(),
        weaknessLocValue: function(data, element) {
          this.weaknessLoc.push($(element.target).attr('alt'));
        },
        jerkingLoc: ko.observableArray(),
        jerkingLocValue: function(data, element) {
          this.jerkingLoc.push($(element.target).attr('alt'));
        },
        tremorLoc: ko.observableArray(),
        tremorLocValue: function(data, element) {
          this.tremorLoc.push($(element.target).attr('alt'));
        },
       painLoc: ko.observableArray(),
        painLocValue: function(data, element) {
          this.painLoc.push($(element.target).attr('alt'));
        },
        pairs: ko.observable(),
        rt: ko.observable()
      };
	  

	  ko.applyBindings(viewModel);

	   
viewModel.exactDateCheck.subscribe(function(value) {
    if(value==true){
	$("#navSymptoms").css("position","relative");
    }else{
	$("#navSymptoms").css("position","fixed");} 
});

viewModel.visionLoss.subscribe(function(value) {
    if(value=='yes'){
	$("#navVision").css("position","relative");
    }else{
	$("#navVision").css("position","fixed");} 
});

viewModel.otherSymptoms.subscribe(function(value) {
    if(value=='yes'){
	$("#navOtherSymp").css("position","relative");
    }else{
	$("#navOtherSymp").css("position","fixed");} 
});
 
      $(document).ready(function() {
        $(".nextButton").on('click', nextPage);
		 $(".previousButton").on('click', previousPage);
      }); //document ready
	  
	  $(".data-input").datepicker({ defaultDate: null}); //highlight current date on datepicker
	  
	  //Sort out overlapping issues with numpad using z-index.
      $(function() {
        $('#symptom_onset').keypad();
        $('#frequencyKeypad').keypad();
        $('#durationKeypad').keypad();
        $('#symptom_onset').on('click', function() {
          $('#datepicker').css('position', 'relative');
          $('#datepicker').css('z-index', '100');
          $('#duration').css('position', 'relative');
          $('#datepicker').css('z-index', '1');
          $('#frequency').css('position', 'relative');
          $('#datepicker').css('z-index', '1');
        });
        $('#duration').on('click', function() {
          $('#duration').css('position', 'relative');
          $('#datepicker').css('z-index', '100');
          $('#datepicker').css('position', 'relative');
          $('#datepicker').css('z-index', '1');
          $('#frequency').css('position', 'relative');
          $('#datepicker').css('z-index', '1');
        });
        $('#frequency').on('click', function() {
          $('#frequency').css('position', 'relative');
          $('#datepicker').css('z-index', '100');
          $('#datepicker').css('position', 'relative');
          $('#datepicker').css('z-index', '1');
          $('#duration').css('position', 'relative');
          $('#datepicker').css('z-index', '1');
        });
      });
	  

      function nextPage() {
        var currentPageID = $.mobile.activePage.attr('id');
        switch (currentPageID) {
          case "WelcomePage":
            $.mobile.changePage("#SymptomsPage");
            break;
          case "IdentificationPage":
            $.mobile.changePage("#SymptomsPage");
            break;
          case "SymptomsPage":
            $.mobile.changePage("#SpeechProblemsPage");
            break;
          case "SpeechProblemsPage":
            $.mobile.changePage("#VisionProblemsPage");
            break;
          case "VisionProblemsPage":
            $.mobile.changePage("#SelectPage");
            break;
          case "numbnessPage":
          case "tinglingPage":
          case "weaknessPage":
          case "jerkingPage":
          case "tremorPage":
          case "painPage":
            $.mobile.changePage("#OtherSymptomsPage");
            break;
          case "OtherSymptomsPage":
            $.mobile.changePage("#MedicalHistoryPage");
            break;
          case "MedicalHistoryPage":
            $.mobile.changePage("#SnapInstructionsPage");
            break;
			case "SnapPage":
            $.mobile.changePage("#PairsInstructionsPage");
			break;
			case "PairsDemoPage":
            $.mobile.changePage("#PairsPage");
			break;
			case "PairsPage":
            $.mobile.changePage("#FinishPage");
			break;
          default:
            break;
        }
      }
	  
	        function previousPage() {
        var currentPageID = $.mobile.activePage.attr('id');
        switch (currentPageID) {
          case "SymptomsPage":
            $.mobile.changePage("#WelcomePage");
            break;
          case "SpeechProblemsPage":
            $.mobile.changePage("#SymptomsPage");
            break;
          case "VisionProblemsPage":
            $.mobile.changePage("#SpeechProblemsPage");
            break;
          case "SelectPage":
            $.mobile.changePage("#VisionProblemsPage");
            break;
          case "numbnessPage":
          case "tinglingPage":
          case "weaknessPage":
          case "jerkingPage":
          case "tremorPage":
          case "painPage":
            $.mobile.changePage("#SelectPage");
            break;
          case "MedicalHistoryPage":
            $.mobile.changePage("#OtherSymptomsPage");
            break;
          case "SnapInstructionsPage":
            $.mobile.changePage("#MedicalHistoryPage");
            break;
			/*case "SnapPage":
            $.mobile.changePage("#PairsInstructionsPage");
			break;
			case "PairsDemoPage":
            $.mobile.changePage("#PairsPage");
			break;
			case "PairsPage":
            $.mobile.changePage("#FinishPage");
			break;*/
          default:
            break;
        }
      }

	  
	    <!-- ******************************* Script for Snaps Game ************************************-->
      var card1url;
      var card2url;
      var url1;
      var url2;
      var clicked = false;
      var score = [];
      var index = 0;
      var t0;
      var t1;
      var gameStart = false;
      var round = 1;
	  
	  var picture = ['cross.png', 'tree.png', 'square.png', 'equals.png'];
      var rand1 = Math.floor(Math.random() * picture.length);
      var rand2 = Math.floor(Math.random() * picture.length);
     

      function recursiveTimer(round) {
        var interval = setInterval(function() {
          t0 = '';
          t1 = '';
          round += 1;
          if (round == 13) {
			gameStart=false;
            clearInterval(interval);
            $("#nxtButnSnap").css('visibility', 'visible');
            alert('Game Over! Your average reaction time was ' + computeAvg() + 'ms');
          } else if (clicked) {
          //  clearInterval(interval);
            //setTimeout(function() {   //allow time for participant to register visual feedback
              clicked = false;
			  round=round-1;
            // recursiveTimer(round - 1);
          } else {
            rand1 = Math.floor(Math.random() * picture.length);
            rand2 = Math.floor(Math.random() * picture.length);
				$('.snap').css("background-color", "#FFFFFF"); 
		
            $('#card1').css("background-image", "url('themes/myImages/" + picture[rand1] + "')");
            $('#card2').css("background-image", "url('themes/myImages/" + picture[rand2] + "')");
            gameStart = true;
            t0 = Date.now();
            $("#snapOverlay").html(" ");
			$("#gameMsg").html(" ");
          }
        }, 2000);
      } //recursiveTimer	
	  
	   //scripts for onload of #SnapPage
      $(document).delegate("#SnapPage", "pagecreate", function() {
	   $('.snap').css("background-color", "#004200"); 
        $("#snapOverlay").html('3');
        setTimeout(function() {
          $("#snapOverlay").html('2');
        }, 1000);
        setTimeout(function() {
          $("#snapOverlay").html('1');
        }, 2000);
		setTimeout(function() {recursiveTimer(round);}, 1000);
        
        $("#SnapPage").on('click', function(e) {
          if (gameStart) {
            lookForMatch();
          }
        });
      }); //scripts for onload of #SnapPage
	  
	  //Hide and show divs containing the game instructions
      $("#step2But").on('click', function(e) {	   
        $("#step2").css('display', 'block');
        $("#step1").css('display', 'none');
      });
      $("#step3But").on('click', function(e) {
        $("#step3").css('display', 'block');
        $("#step2").css('display', 'none');
      });
      $("#step4But").on('click', function(e) {
        $("#step4").css('display', 'block');
        $("#step3").css('display', 'none');
      });
	  
	   $("#step3ButP").on('click', function(e) {
        $("#step1").css('display', 'block');
        $("#step2").css('display', 'none');
      });
	 $("#step4ButP").on('click', function(e) {
			$("#step2").css('display', 'block');
			$("#step3").css('display', 'none');
		  });
	  
	   $("#step5ButP").on('click', function(e) {
        $("#step3").css('display', 'block');
        $("#step4").css('display', 'none');
      });

      function lookForMatch() {
        t1 = Date.now();
        clicked = true;
        card1url = $('#card1').css('background-image');
        card2url = $('#card2').css('background-image');
        url1 = card1url.split("myImages/");
        url2 = card2url.split("myImages/");
        if (url1[1] == url2[1]) {
          var rt = t1 - t0;
          score.push(rt);
          //alert(score + 'ms');	
          <!--$("#score").append("<br> " + score[index] + 'ms');-->
          index++;
          $("#gameMsg").append(" <br> <span id='spanMsgSnap'>Snap!</span>");

        } else {
          $("#gameMsg").append("<br> <span id='spanMsgX'>X</span>");
        };
      }
     <!-- $("#score").append("Reaction time: ");-->

      function computeAvg() {
        var total = 0;
        for (i = 0; i < score.length; i++) {
          total = total + score[i];
        }
        return total / score.length;
      }
      $("#playSnap").on('click', function(e) {
        $.mobile.changePage("#SnapPage");
      });

    /* ******************************* Script for Pairs Game ************************************ */
 $("#tryDemo").on('click', function(e) {
        $.mobile.changePage("#PairsDemoPage");
      });
	  
	  
	  //Hide and show divs containing the game instructions
      $("#pstep2But").on('click', function(e) {	   
        $("#p_step2").css('display', 'block');
        $("#p_step1").css('display', 'none');
      });
      $("#pstep3But").on('click', function(e) {
        $("#p_step3").css('display', 'block');
        $("#p_step2").css('display', 'none');
      });
      $("#pstep4But").on('click', function(e) {
        $("#p_step4").css('display', 'block');
        $("#p_step3").css('display', 'none');
      });
	  
	  $("#pstep5But").on('click', function(e) {
	    $("#p_step55").css('display', 'block');
        $("#p_step5").css('display', 'block');
        $("#p_step4").css('display', 'none');
      });
	  
	   $("#pstep3ButP").on('click', function(e) {
        $("#p_step1").css('display', 'block');
        $("#p_step2").css('display', 'none');
      });
	  
	 $("#pstep4ButP").on('click', function(e) {
			$("#p_step2").css('display', 'block');
			$("#p_step3").css('display', 'none');
		  });
	  
	   $("#pstep5ButP").on('click', function(e) {
        $("#p_step3").css('display', 'block');
        $("#p_step4").css('display', 'none');
      });
	   $("#pstep6ButP").on('click', function(e) {
        $("#p_step4").css('display', 'block');
		$("#p_step55").css('display', 'none');
        $("#p_step5").css('display', 'none');
      });


	 var alternate = false;
      var card1;
      var card2;
      var stCardPair;
      var ndCardPair;
      var pair = [''];
      var id;
      var url;
	  var counter = 0;	  //keeps track of how many pairs of cards have been found.
	  var currentPage='';
	  
			$(document).delegate("#PairsDemoPage", "pagecreate", function() {
		  showCardsDemo("stPairDemA", "stPairDemB");
		  showCardsDemo("ndPairDemA", "ndPairDemB");
		  showCardsDemo("rdPairDemA", "rdPairDemB");
		  setTimeout(function() {
			$(".stPair,.ndPair,.rdPair", $.mobile.activePage).css("background-image", "url('themes/myImages/card_back.png')");
		  }, 2000);
		  currentPage='PairsDemoPage';
	 });
	
			$(document).delegate("#PairsPage", "pagecreate", function() {
			var counterDemo = counter;
			counter=0;
			  showCards("stPairA", "stPairB");
			  showCards("ndPairA", "ndPairB");
			  showCards("rdPairA", "rdPairB");
			  showCards("rthPairA", "rthPairB");
			  showCards("fthPairA", "fthPairB");
			  showCards("thPairA", "thPairB");
		   setTimeout(function() {
        $(".stPair,.ndPair,.rdPair,.rthPair,.fthPair, .thPair", $.mobile.activePage).css("background-image", "url('themes/myImages/card_back.png')");
      }, 5000);
	  currentPage='PairsPage';
	 });
 
    
      $('.stPair, .ndPair, .rdPair,.rthPair,.fthPair, .thPair', $.mobile.activePage).on('click', pairScore);
   
      function pairScore() {
        id = event.target.id;
        url = $('#' + id, $.mobile.activePage).css('background-image');
        if (url == 'none') {} else {
          if (alternate == false) {
            pair = [id];
            alternate = true;
          } else {
            pair.push(id);
            card1 = pair[0].slice(0, pair[0].length - 1);
            card2 = pair[1].slice(0, pair[1].length - 1);
            if (card1 == card2) {
              card1Pair = pair[0].charAt(pair[0].length - 1);
              card2Pair = pair[1].charAt(pair[1].length - 1);
              if ((card1Pair == 'A' && card2Pair == 'B') || (card1Pair == 'B' && card2Pair == 'A')) {
                if(currentPage=='PairsPage'){showCards(pair[0], pair[1]);}else{showCardsDemo(pair[0], pair[1]);}
				
                $("#pairsOverlay", $.mobile.activePage).html("<span class='spanMsg'>Pair!</span>");
                $("#pairsOverlay", $.mobile.activePage).css('background-color', '#FAF741'); 
                setTimeout(function() {
                  $("#pairsOverlay", $.mobile.activePage).html(" ");
                  $("#" + pair[0] + ",#" + pair[1], $.mobile.activePage).css("background-image", "none");
                  $("#" + pair[0] + ",#" + pair[1], $.mobile.activePage).css("background-color", "#004200");
                  counter = counter + 2;
                  if (counter == 12) {
                    alert('Game over!');
                  }
                }, 2000);
              }
            } else {
              if(currentPage=='PairsPage'){showCards(pair[0], pair[1]);}else{showCardsDemo(pair[0], pair[1]);}
              $("#pairsOverlay", $.mobile.activePage).html("<span class='spanMsg'>miss</span>");
              $("#pairsOverlay", $.mobile.activePage).css('background-color', '#F5033B');
              setTimeout(function() {
                $("#pairsOverlay", $.mobile.activePage).html(" ");
                $("#" + pair[0], $.mobile.activePage).css("background-image", "url('themes/myImages/card_back.png')");
                $("#" + pair[1], $.mobile.activePage).css("background-image", "url('themes/myImages/card_back.png')");
              }, 2000);
            }
            alternate = false;
          } //alternate		
        } //url not 'none'
      }

	   function showCardsDemo(card1, card2) {
	   
	    card1Class = card1.slice(0, card1.length - 1);
        card2Class = card2.slice(0, card2.length - 1);
        switch (card1Class) {
          case "stPairDem":
            $("#" + card1).css("background-image", "url('themes/myImages/pairsCats.png')")
            break;
          case "ndPairDem":
            $("#" + card1).css("background-image", "url('themes/myImages/pairsTriangle.png')")
            break;
           case "rdPairDem":
            $("#" + card1).css("background-image", "url('themes/myImages/pairsHourglass.png')")
            break;
			 default:
            break;
        }
        switch (card2Class) {
          case "stPairDem":
            $("#" + card2).css("background-image", "url('themes/myImages/pairsCats.png')")
            break;
          case "ndPairDem":
            $("#" + card2).css("background-image", "url('themes/myImages/pairsTriangle.png')")
            break;
          case "rdPairDem":
            $("#" + card2).css("background-image", "url('themes/myImages/pairsHourglass.png')")
            break;
					 default:
            break;
        }
	   }
	  
      function showCards(card1, card2) {
        card1Class = card1.slice(0, card1.length - 1);
        card2Class = card2.slice(0, card2.length - 1);
        switch (card1Class) {
          case "stPair":
            $("#" + card1).css("background-image", "url('themes/myImages/pairsCats.png')")
            break;
          case "ndPair":
            $("#" + card1).css("background-image", "url('themes/myImages/pairsTriangle.png')")
            break;
           case "rdPair":
            $("#" + card1).css("background-image", "url('themes/myImages/pairsHourglass.png')")
            break;
			case "rthPair":
            $("#" + card1).css("background-image", "url('themes/myImages/pairsDots.png')")
            break;
			case "fthPair":
            $("#" + card1).css("background-image", "url('themes/myImages/pairsHat.png')")
            break;
			case "thPair":
            $("#" + card1).css("background-image", "url('themes/myImages/pairsHearts.png')")
            break;
          default:
            break;
        }
        switch (card2Class) {
          case "stPair":
            $("#" + card2).css("background-image", "url('themes/myImages/pairsCats.png')")
            break;
          case "ndPair":
            $("#" + card2).css("background-image", "url('themes/myImages/pairsTriangle.png')")
            break;
          case "rdPair":
            $("#" + card2).css("background-image", "url('themes/myImages/pairsHourglass.png')")
            break;
			case "rthPair":
            $("#" + card2).css("background-image", "url('themes/myImages/pairsDots.png')")
            break;
			case "fthPair":
            $("#" + card2).css("background-image", "url('themes/myImages/pairsHat.png')")
            break;
			case "thPair":
            $("#" + card2).css("background-image", "url('themes/myImages/pairsHearts.png')")
            break;
          default:
            break;
        }
      }
	  
	 /* ************************************** Script for Body Pages ***************************** */
	  var toggle=false;

    $(document).ready(function() { 
      
        $("#numbnessBody,#tinglingBody,#weaknessBody,#jerkingBody,#tremorBody,#painBody").mapster({
          singleSelect: false,
          mapKey: 'alt',
          fill: false,
          stroke: true,
          strokeColor: '000000',
          strokeWidth: 3,
          areas: [{
            key: 'foot(L)',
            strokeColor: '006600'
          }, {
            key: 'foot(R)',
            strokeColor: '006600'
          }, {
            key: 'leg(L)',
            strokeColor: 'FF0000'
          }, {
            key: 'leg(R)',
            strokeColor: 'FF0000'
          }, {
            key: 'hand(L)',
            strokeColor: '0099FF'
          }, {
            key: 'hand(R)',
            strokeColor: '0099FF'
          }, {
            key: 'arm(L)',
            strokeColor: '5C00B8'
          }, {
            key: 'arm(R)',
            strokeColor: '5C00B8'
          }, {
            key: 'chest(L)',
            strokeColor: 'FF7519'
          }, {
            key: 'chest(R)',
            strokeColor: 'FF7519'
          }, {
            key: 'face(L)',
            strokeColor: 'B800B8'
          }, {
            key: 'face(R)',
            strokeColor: 'B800B8'
          }],
          onClick: function(event) {
            var array = event.key.split("(");
            var name = array[0];
            if (event['selected'] == true) {
  
	   } else {
             
	var pageId = $.mobile.activePage[0].id; 
	var arrName = pageId.split('Page')[0];
             removeFromKO(event.key, arrName); //update ko to exclude the deslected body part
               //update ko with new array
             
            }
          }
        }); //mapster
        

        function removeFromKO(alt, arrName) {
        	
	  var lastElem;
	  var arr = getArray(arrName);

          pos = $.inArray(alt, arr);
	
          if (pos!=-1) 
	  {
		lastElem = arr.length-2;
		 arr.splice(pos, 1);
		 arr.splice(lastElem, 1);	
          }
        	updateArray(arrName, arr);  
        }


function updateArray(arrName, arr){
	switch(arrName){

	case "numbness":
	    viewModel.numbnessLoc(arr); 
	break;
	case "tingling":
		viewModel.tinglingLoc(arr); 
	break;
	case "weakness":
		viewModel.weaknessLoc(arr); 
	break;
	case "jerking":
		viewModel.jerkingLoc(arr); 
	break;
	case "tremor":
		viewModel.tremorLoc(arr); 
	break;
	case "pain":
		viewModel.painLoc(arr); 
	break;
	default:
	break;
	}
}

function getArray(arrName){
	switch(arrName){

	case "numbness":
	    return viewModel.numbnessLoc(); 
	break;
	case "tingling":
		return viewModel.tinglingLoc(); 
	break;
	case "weakness":
		return viewModel.weaknessLoc(); 
	break;
	case "jerking":
		return viewModel.jerkingLoc(); 
	break;
	case "tremor":
		return viewModel.tremorLoc(); 
	break;
	case "pain":
		return viewModel.painLoc(); 
	break;
	default:
	break;
	}
}
/* ************************BAD CODING CHANGE, THIS IS DERP********************** */
        $("button").on('click', function() {   
            sensation(this.id);  
        });

     


      function sensation(id) {
        switch (id) {
          case "numbnessBut":
            $.mobile.changePage("#numbnessPage");
            break;
          case "tinglingBut":
            $.mobile.changePage("#tinglingPage");
            break;
          case "weaknessBut":
            $.mobile.changePage("#weaknessPage");
            break;
          case "jerkingBut":
            $.mobile.changePage("#jerkingPage");
            break;
          case "tremorBut":
            $.mobile.changePage("#tremorPage");
            break;
          case "painBut":
            $.mobile.changePage("#painPage");
            break;
          default:
            break;
        }
      }

      /*function nextPage() {
        var currentPageID = $.mobile.activePage[0].id; 

        switch (currentPageID) {
          case "numbnessPage":
            $.mobile.changePage("#tinglingPage");
            break;
          case "tinglingPage":
            $.mobile.changePage("#weaknessPage");
            break;
          case "weaknessPage":
            $.mobile.changePage("#jerkingPage");
            break;
          case "jerkingPage":
            $.mobile.changePage("#tremorPage");
            break;
          case "tremorPage":
            $.mobile.changePage("#painPage");
            break;
          default:
            break;
        }
      }*/
});
    </script>
	
	
  </body>

</html>