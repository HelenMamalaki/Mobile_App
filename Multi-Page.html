<!DOCTYPE html>
<html>

  <head>
    <title>Patient Questionnaire</title>
    <!--<meta name="viewport" content="width=device-width, initial-scale=1">-->
    <meta name="viewport" content="width=device-width, user-scalable=no" />
    <!--My Own CSS-->
    <link rel="stylesheet" href="themes/formatting.css" />
    <!--JQuery Mobile CSS-->
    <link rel="stylesheet" href="themes/MyTheme.css" />
    <link rel="stylesheet" href="themes/jquery.mobile.icons.min.css" />
    <link rel="stylesheet" href="http://code.jquery.com/mobile/1.4.2/jquery.mobile-1.4.2.min.css" />
    <!--JQuery js-->
    <script src="http://code.jquery.com/jquery-1.9.1.js"></script>
    <!--JQuery Mobile js-->
    <script src="http://code.jquery.com/mobile/1.4.2/jquery.mobile-1.4.2.min.js"></script>
    <!--External scripts needed for date-picker-->  
    <link rel="stylesheet" href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.7.0/themes/base/jquery-ui.css" />
    <script src="https://cdn.rawgit.com/jquery/jquery-ui/1-10-stable/ui/jquery.ui.datepicker.js"></script>
    <script src="http://code.jquery.com/mobile/git/jquery.mobile-git.js"></script>
    <script src="https://cdn.rawgit.com/arschmitz/jquery-mobile-datepicker-wrapper/master/jquery.mobile.datepicker.js"></script>
    <!--Extrenal scripts needed for knockout library-->
    <script type='text/javascript' src="http://knockoutjs.com/downloads/knockout-3.0.0.js"></script>
    <!--Scripts needed for numpad-->
    <link rel="stylesheet" href="jquery.keypad.package-2.0.0/jquery.keypad.css" />
    <script type='text/javascript' src="jquery.keypad.package-2.0.0/jquery.plugin.js"></script>
    <script type='text/javascript' src="jquery.keypad.package-2.0.0/jquery.keypad.js"></script>
    <!--External scripts needed for imagemapster plugin-->
    <!--<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>-->
    <script src="jquery.imagemapster.js"></script>
  </head>

  <body>
    <div data-role="page" id="AdminPage" data-theme="d">
      <div data-role="header">
        <h1>Patient Survey; Administrator Screen</h1>
      </div>
      <div data-role="main" class="ui-content" style="margin-left:2%;">
        <img src="themes/myImages/NHSlogo.png" alt="NHS Scotland" width="85" height="52" id="nhsLogo">
        <div style="position:fixed;left:38%;">
          <h1>Administrator Screen</h1>
        </div>
        <div style="position:fixed;left:29%;top:25%;width:85%;">
          <p style="font-size:18px;">Below is a list of patients expected at the clinic today:</p>
        </div>
        <div class="ui-grid-a" style="margin-top:17%;">  
          <div class="ui-block-a" style="width:20%;margin-right:7%;margin-left:27.3%;">
            <label>
              <span class="thick2">Select Patient:</span>
              <select id="patientID">
                <option value="Patient1">Patient 1</option>
                <option value="Patient2">Patient 2</option>
                <option value="Patient3">Patient 3</option>
                <option value="Patient4">Patient 4</option>
                <option value="Patient5">Patient 5</option>
                <option value="Patient6">Patient 6</option>
                <option value="Patient7">Patient 7</option>
              </select>
            </label>
          </div>
          <div class="ui-block-b" style="width:30%;"> 
	  <a data-role="button" id="start" style="width:40%;height:3.2%;margin-top:10%;font-size:18px;" href="#">Begin Survey</a>
            <a data-role="button" id="viewResults" style="width:40%;height:3.2%;margin-top:20%;font-size:18px;" value="View Results" href="#">View Results</a>
          </div>
        </div>
      </div>
      <!--main content-->
      <div data-role="footer" data-position="fixed">
        <h2>&copy; Edinburgh University 2014</h2>
      </div>
    </div>
    <!--End of AdminPage-->
    <div data-role="page" id="WelcomePage" data-theme="d">
      <div data-role="header">
        <h1>Patient Survey; Welcome</h1>
      </div>
      <div data-role="main" class="ui-content" style="margin-left:2%;">
        <img src="themes/myImages/NHSlogo.png" alt="NHS Scotland" width="85" height="52" id="nhsLogo">
        <br>
        <br>
        <div id="centre">
          <h1>Patient Survey</h1>
          <span class="thick2">To make your assessment as fast as possible, we would like to record some information electronically.</span>
          <br>
          <br>
          <br>
          <br>
          <h1>Consent</h1>
          <span class="thick2">We will use the information you provide for your care, for improving our service, and for medical research. 
We would like to link your information to other health care information to learn about what happens to people after symptoms like yours.</span>
          <div data-role="fieldcontain">
            <div style="width:47%;">
              <input type="checkbox" data-bind="checked:consent" name="consent" id="consent">
              <label for="consent">I agree to the collection of my information</label>
            </div>
          </div>
        </div>
            <!-- Navigation Buttons + Progress Bar -->
 	<div class="ui-grid-b navButtons">
          <div class="ui-block-a navA"> 
		 
	</div>
          <div class="ui-block-b navB">
           <div class="bar"></div> <div class="bar">  </div> <div class="bar"></div>  <div class="bar"></div>  <div class="bar"></div>  <div class="bar"></div>  <div class="bar"></div>  <div class="bar"></div>  <div class="bar"></div>
          </div>
           <div class="ui-block-c navC">
            <a data-role="button" data-bind="visible: consent()" class="nextButton" href="#"></a>
          </div>
        </div>

      </div> <!--main content-->
      <div data-role="footer" data-position="fixed">
        <h2>&copy; Edinburgh University 2014</h2>
      </div>
    </div>
    <!--End of WelcomePage-->
   
    <div data-role="page" id="SymptomsPage" data-theme="d">
      <div data-role="header">
        <h1>Patient Survey; Symptoms</h1>
      </div>
      <div data-role="main" class="ui-content" style="margin-left:2%;">
        <img src="themes/myImages/NHSlogo.png" alt="NHS Scotland" width="85" height="52" id="nhsLogo">
        <br>
       <span class="thick2"> Think about the symptoms you had when you were referred to clinic: </span>
        <div id="datepicker" data-role="fieldcontain">
     
       <span class="thick2" style="position:absolute;margin-top:1%;">When did you first have symptoms?</span>
          <div class="ui-grid-a" style="margin-top:4%;">
            <div class="ui-block-a" style="width:17%; margin-left: 40px; margin-right: 30px;">
              <input type="text" placeholder="dd/mm/yyyy" class="date-input" data-inline="false" data-role="date" readonly="readonly" data-bind="value:exactDate">
            </div>
            <div class="ui-block-b" style="width:30%;margin-left: 8%;">
              <input type="checkbox" data-bind="checked:exactDateCheck" id="exactDateCheck">
              <label for="exactDateCheck">I don't remember the exact date</label>
            </div>
          </div>
        </div>
        <br>
        <div id="dynamicContent" data-bind="visible:exactDateCheck()">
          <span class="thick2">How long ago were your first symptoms?</span>
          <div class="ui-grid-b" style="margin-top:0.8%;margin-bottom:0.4%;">
            <div class="ui-block-a" style="width:10%; margin-left: 40px; margin-right: 30px;">
              <input type="text" id="symptom_onset" placeholder="0" value="" readonly="readonly" data-bind="value:estDate">
            </div>
            <div class="ui-block-b" style="width:16%; margin-right: 9%;">
              <select name="symptom_onset" id="symptom_onset" data-bind="value:estDateUnit">
                <option value="days">days</option>
                <option value="weeks">weeks</option>
                <option value="months">months</option>
                <option value="years">years</option>
              </select>
            </div>
			<div class="ui-block-c" style="width:20%;">
              <input type="checkbox" id="estDateCheck" data-bind="value:estDateCheck" />
              <br>
              <label for="estDateCheck">I don't know</label>
            </div>
          </div>
          <br>
        </div>
        <div id="frequency">
          <span class="thick2">How many attacks of symptoms have you had?</span>
          <div class="ui-grid-a" style="margin-top:0.8%;">
            <div class="ui-block-a" style="width:22%; margin-left: 40px; margin-right: 15.2%;">
             <div style="display: inline-block;"><span class="thick">I had &nbsp;</span><div style="width:46%;display: inline-block;"><input type="text" id="frequencyKeypad" placeholder="1" value="" readonly="readonly" data-bind="value:attackNo"></div> <span class="thick">&nbsp;attacks</span></div>
            </div>
            <div class="ui-block-b" style="width:20%;">
              <input type="checkbox" id="attackNoCheck" data-bind="value:attackNoCheck" />
              <br>
              <label for="attackNoCheck">I don't know</label>
            </div>
          </div>
        </div>
        <br>
        <div id="duration">
          <span class="thick2">How long did the symptoms last in your last attack?</span>
          <div class="ui-grid-b" style="margin-top:0.8%;">
            <div class="ui-block-a" style="width:10%; margin-left: 40px; margin-right: 30px;">
              <input type="text" id="durationKeypad" placeholder="1" value="" readonly="readonly" data-bind="value:attackDuration">
            </div>
            <div class="ui-block-b" style="width:16%; margin-right: 9%;">
              <select name="time_unit" id="time_unit" data-bind="value:durationUnit">
                <option value="sec">sec</option>
                <option value="min">min</option>
                <option value="hours">hrs</option>
                <option value="days">days</option>
              </select>
            </div>
            <div class="ui-block-c" style="width:20%;">
              <input type="checkbox" id="durationCheck" data-bind="value:durationCheck" />
              <br>
              <label for="durationCheck">I don't know</label>
            </div>
          </div>
        </div>
       <!-- Navigation Buttons + Progress Bar -->
 	<div class="ui-grid-b navButtons" id="navSymptoms">
          <div class="ui-block-a navA">
		 <a data-role="button" class="previousButton" href="#"></a>
	</div>
          <div class="ui-block-b navB">
           <div class="bar fill"></div> <div class="bar">  </div> <div class="bar"></div>  <div class="bar"></div>  <div class="bar"></div>  <div class="bar"></div>  <div class="bar"></div>  <div class="bar"></div>  <div class="bar"></div>
          </div>
           <div class="ui-block-c navC">
            <a data-role="button" class="nextButton" href="#"></a>
          </div>
        </div>

      </div>
      <!--main content-->
      <div data-role="footer" data-position="fixed">
        <h2>&copy; Edinburgh University 2014</h2>
      </div>
    </div>
    <!--End of Page 3-->
    <div data-role="page" id="SpeechProblemsPage" data-theme="d">
      <div data-role="header">
        <h1>Patient Survey; Speech Problems</h1>
      </div>
      <div data-role="main" class="ui-content" style="margin-left:2%;">
        <img src="themes/myImages/NHSlogo.png" alt="NHS Scotland" width="85" height="52" id="nhsLogo">
        <!--<h2>Speech Problems</h2>-->
        <br>
        <br>
        <span class="thick2">In your last attack, did you have:</span>
        <br>
        <div class="ui-grid-b" style="margin-top:3%;">
          <span class="thick2">Slurred speech?</span>
          <br>
          <div class="ui-block-a blA">
            <label for="slurredYes">Yes</label>
            <input type="radio" data-bind="checked:slurredSpeech" name="slurred" id="slurredYes" value="yes" />
          </div>
          <div class="ui-block-b blB">
            <label for="slurredNo">No</label>
            <input type="radio" data-bind="checked:slurredSpeech" name="slurred" id="slurredNo" value="no" />
          </div>
          <div class="ui-block-c blC">
            <label for="slurredDunno">I don't know</label>
            <input type="radio" data-bind="checked:slurredSpeech" name="slurred" id="slurredDunno" value="I don't know" />
          </div>
        </div>
        <!--grib b-->
        <div class="ui-grid-b" style="margin-top:3%;">
          <span class="thick2">Difficulty speaking?</span>
          <br>
          <div class="ui-block-a blA">
            <label for="speakingYes">Yes</label>
            <input type="radio" data-bind="checked:speakingDifficulty" name="speaking" id="speakingYes" value="yes" />
          </div>
          <div class="ui-block-b blB">
            <label for="speakingNo">No</label>
            <input type="radio" data-bind="checked:speakingDifficulty" name="speaking" id="speakingNo" value="no" />
          </div>
          <div class="ui-block-c blC">
            <label for="speakingDunno">I don't know</label>
            <input type="radio" data-bind="checked:speakingDifficulty" name="speaking" id="speakingDunno" value="I_don't_know" />
          </div>
        </div>
        <!--grib b-->
        <div class="ui-grid-b" style="margin-top:3%;">
          <span class="thick2">Difficulty understanding words?</span>
          <br>
          <div class="ui-block-a blA">
            <label for="understandingYes">Yes</label>
            <input type="radio" data-bind="checked:wordComprehension" name="understanding" id="understandingYes" value="yes" />
          </div>
          <div class="ui-block-b blB">
            <label for="understandingNo">No</label>
            <input type="radio" data-bind="checked:wordComprehension" name="understanding" id="understandingNo" value="no" />
          </div>
          <div class="ui-block-c blC">
            <label for="understandingDunno">I don't know</label>
            <input type="radio" data-bind="checked:wordComprehension" name="understanding" id="understandingDunno" value="I don't know" />
          </div>
        </div>
        <!--grib b-->

    <!-- Navigation Buttons + Progress Bar -->
 	<div class="ui-grid-b navButtons">
          <div class="ui-block-a navA">
		 <a data-role="button" class="previousButton" href="#"></a>
	</div>
          <div class="ui-block-b navB">
           <div class="bar fill"></div> <div class="bar fill">  </div> <div class="bar"></div>  <div class="bar"></div>  <div class="bar"></div>  <div class="bar"></div>  <div class="bar"></div>  <div class="bar"></div>  <div class="bar"></div>
          </div>
           <div class="ui-block-c navC">
            <a data-role="button" class="nextButton" href="#"></a>
          </div>
        </div>
        <!--DEBUG:<pre data-bind="text: ko.toJSON($data,null,2)"></pre>-->
      </div>
      <!--main content-->
      <div data-role="footer" data-position="fixed">
        <h2>&copy; Edinburgh University 2014</h2>
      </div>
    </div>
    <!--End of SpeechProblemsPage-->

	<div data-role="page" id="VisionProblemsPage" data-theme="d">
  <div data-role="header">
    <h1>Patient Survey; Vision Problems</h1>
  </div>
  <div data-role="main" class="ui-content" style="margin-left:2%;">
    <img src="themes/myImages/NHSlogo.png" alt="NHS Scotland" width="85" height="52" id="nhsLogo">
    <!--<h2>Vision Problems</h2>-->
    <br>
    <span class="thick2">In your last attack,</span>
    <br>
    <div class="ui-grid-b" style="margin-top:3%;">
      <span class="thick2">Did you lose vision?</span>
      <br>
      <div class="ui-block-a blA">
        <label for="visionLYes">Yes</label>
        <input type="radio" data-bind="checked:visionLoss" name="visionLoss" id="visionLYes" value="yes" />
      </div>
      <div class="ui-block-b blB">
        <label for="visionLNo">No</label>
        <input type="radio" data-bind="checked:visionLoss" name="visionLoss" id="visionLNo" value="no" />
      </div>
      <div class="ui-block-c blC">
        <label for="visionLDunno">I don't know</label>
        <input type="radio" data-bind="checked:visionLoss" name="visionLoss" id="visionLDunno" value="I don't know" />
      </div>
    </div>
    <!--grib b-->
   
      <div class="ui-grid-b" style="margin-top:3%;"  data-bind="visible: visionLoss() == 'yes'">
        <span class="thick2">Did you loes vision in one eye?</span>
        <br>
        <div class="ui-block-a blA">
          <label>Yes
            <input type="radio" data-bind="checked:oneEye" name="oneEye" value="yes" />
          </label>
        </div>
        <div class="ui-block-b blB">
          <label>No
            <input type="radio" data-bind="checked:oneEye" name="oneEye" value="no" />
          </label>
        </div>
        <div class="ui-block-c blC">
          <label>I don't know
            <input type="radio" data-bind="checked:oneEye" name="oneEye" value="I don't know" />
          </label>
        </div>
      </div>
      <!--grib b-->

        <div class="ui-grid-b" style="margin-top:3%;" data-bind="visible: oneEye() == 'no'">
          <span class="thick2">Did you loes vision in both eyes?</span>
          <br>
          <div class="ui-block-a blA">
            <label>Yes
              <input type="radio" data-bind="checked:bothEyes" name="bothEyes" value="yes" />
            </label>
          </div>
          <div class="ui-block-b blB">
            <label>No
              <input type="radio" data-bind="checked:bothEyes" name="bothEyes" value="no" />
            </label>
          </div>
          <div class="ui-block-c blC">
            <label>I don't know
              <input type="radio" data-bind="checked:bothEyes" name="bothEyes" value="I don't know" />
            </label>
          </div>
        </div>
        <!--grib b-->
        <div id="whichEye" data-bind="visible: oneEye() == 'yes'">
          <div class="ui-grid-b" style="margin-top:3%;">
            <span class="thick2">Which eye did you lose vision in?</span>
            <br>
           <div class="ui-block-a blA">
          <label>Left eye
            <input type="radio" data-bind="checked:whichEye" name="whichEye" value="leftEye" />
          </label>
        </div>
        <div class="ui-block-b blB">
          <label>Right eye
            <input type="radio" data-bind="checked:whichEye" name="whichEye" value="rightEye" />
          </label>
        </div>
        <div class="ui-block-c blC">
          <label>I don't know
            <input type="radio" data-bind="checked:whichEye" name="whichEye" value="I don't know" />
          </label>
        </div>
          </div>
          <!--grib b-->
          <div class="ui-grid-b" style="margin-top:3%;">
            <span class="thick2">Did you test this by closing one eye and then the other?</span>
            <br>
            <div class="ui-block-a blA">
              <label for="visionTYes">Yes</label>
              <input type="radio" data-bind="checked:visionTest" name="visionTest" id="visionTYes" value="yes" />
            </div>
            <div class="ui-block-b blB">
              <label for="visionTNo">No</label>
              <input type="radio" data-bind="checked:visionTest" name="visionTest" id="visionTNo" value="no" />
            </div>
            <div class="ui-block-c blC">
              <label for="visionTDunno">I don't know</label>
              <input type="radio" data-bind="checked:visionTest" name="visionTest" id="visionTDunno" value="I don't know" />
            </div>
          </div>
          <!--grib b-->
        </div> <!--whichEye-->
        
        <div class="ui-grid-b" style="margin-top:3%;">
          <span class="thick2">Did you have sparkly lights or lines in your vision?</span>
          <br>
          <div class="ui-block-a blA">
            <label for="visionSYes">Yes</label>
            <input type="radio" data-bind="checked:sparklyLight" name="sparkly" id="visionSYes" value="yes" />
          </div>
          <div class="ui-block-b blB">
            <label for="visionSNo">No</label>
            <input type="radio" data-bind="checked:sparklyLight" name="sparkly" id="visionSNo" value="no" />
          </div>
          <div class="ui-block-c blC"> 
            <label for="visionSDunno">I don't know</label>
            <input type="radio" data-bind="checked:sparklyLight" name="sparkly" id="visionSDunno" value="I don't know" />
          </div>
        </div>
        <!--grib b-->
        <!-- Navigation Buttons + Progress Bar -->
        <div class="ui-grid-b navButtons" id="navVision">
          <div class="ui-block-a navA">
            <a data-role="button" class="previousButton" href="#"></a>
          </div>
          <div class="ui-block-b navB">
            <div class="bar fill"></div>
            <div class="bar fill"></div>
            <div class="bar fill"></div>
            <div class="bar"></div>
            <div class="bar"></div>
            <div class="bar"></div>
            <div class="bar"></div>
            <div class="bar"></div>
            <div class="bar"></div>
          </div>
          <div class="ui-block-c navC">
            <a data-role="button" class="nextButton" href="#"></a>
          </div>
        </div>
        <!--DEBUG:<pre data-bind="text: ko.toJSON($data,null,2)"></pre>-->
      </div>
      <!--main content-->
      <div data-role="footer" data-position="fixed">
        <h2>&copy; Edinburgh University 2014</h2>
      </div>
    </div>
    <!--End of VisionProblemsPage-->

    <div data-role="page" id="SelectPage" data-theme="d">
      <div data-role="header">
        <h1>Patient Survey; Body</h1>
      </div>
      <div data-role="main" class="ui-content">
        <img src="themes/myImages/NHSlogo.jpg" alt="NHS Scotland" width="85" height="52" id="nhsLogo">
        <div class="ui-grid-a">
          <div class="ui-block-a blockA">
            <span class="thick2">In you last attack, did you experience:</span>
              <div style="margin-top:26px;">
              <button class='inactive' id="numbnessBut" value="Numbness">Numbness</button>
              <button class='inactive' id="tinglingBut" value="Tingling">Tingling</button>
              <button class='inactive' id="weaknessBut" value="Weakness">Weakness</button>
              <button class='inactive' id="jerkingBut" value="Jerking">Jerking</button>
              <button class='inactive' id="tremorBut" value="Tremor">Tremor</button>
              <button class='inactive' id="painBut" value="Pain">Pain</button>
	     </div>	
          </div>
          <div class="ui-block-b blockB">
            <div style="margin-top:29%;margin-left:2%;">
              <span style="font-weight:600;font-size:23px;">&#x25c0;&nbsp; Select from the menu of symptoms on the left.</span>
            </div>
          </div>
        </div>
        <!--grid-a-->
       <!-- Navigation Buttons + Progress Bar -->
 	<div class="ui-grid-b navButtons">
          <div class="ui-block-a navA">
		 <a data-role="button" class="previousButton" href="#"></a>
	</div>
          <div class="ui-block-b navB">
           <div class="bar fill"></div> <div class="bar fill">  </div> <div class="bar fill"></div>  <div class="bar fill"></div>  <div class="bar"></div>  <div class="bar"></div>  <div class="bar"></div>  <div class="bar"></div>  <div class="bar"></div>
          </div>
           <div class="ui-block-c navC">
            <a data-role="button" class="nextButton" href="#"></a>
          </div>
        </div>
        <!--DEBUG:<pre data-bind="text: ko.toJSON($data,null,2)"></pre>-->
      </div>
      <!--main content-->
      <div data-role="footer" data-position="fixed">
        <h2>&copy; Edinburgh University 2014</h2>
      </div>
    </div>
    <!--............................End of Select............................-->
    <div data-role="page" id="numbnessPage" data-theme="d">
      <div data-role="header">
        <h1>Patient Survey; Body</h1>
      </div>
      <div data-role="main" class="ui-content">
        <img src="themes/myImages/NHSlogo.jpg" alt="NHS Scotland" width="85" height="52" id="nhsLogo">
        <div class="ui-grid-a">
          <div class="ui-block-a blockA">
            <span class="thick2">In your last attack did you experience:</span>
	    <div style="margin-top:1%;">
              <div class="activeBox">
                <button class='active' id="numbnessBut" value="Numbness">Numbness</button>
              </div>
              <button class='inactive' id="tinglingBut" value="Tingling">Tingling</button>
              <button class='inactive' id="weaknessBut" value="Weakness">Weakness</button>
              <button class='inactive' id="jerkingBut" value="Jerking">Jerking</button>
              <button class='inactive' id="tremorBut" value="Tremor">Tremor</button>
              <button class='inactive' id="painBut" value="Pain">Pain</button>
	    </div>
          </div>
          <div class="ui-block-b blockB">
            <div id="container" style="position:relative;">
              <div id="instruc">
                <span class="thick">Touch on the body diagram the location(s) where you felt numb &#x25b6;</span>
              </div>
              <!--instruc-->
              <div class="bodyMap">
                <IMG id="numbnessBody" SRC="themes/myImages/body.png" ALT="Site map" width="555.617" height="577.4385" USEMAP="#numbnessbodyMap">
                <map name="numbnessbodyMap">
                  <area shape="rect" alt="face(R)" coords="447,25,512,146" href="#" data-bind='click: numbnessLocValue' />
                  <area shape="rect" alt="face(L)" coords="388,27,444,145" href="#" data-bind='click: numbnessLocValue' />
                  <area shape="rect" alt="arm(L)" coords="153,167,336,246" href="#" data-bind='click: numbnessLocValue' />
                  <area shape="rect" alt="hand(L)" coords="23,169,131,243" href="#" data-bind='click: numbnessLocValue' />
                  <area shape="rect" alt="arm(R)" coords="560,164,736,251" href="#" data-bind='click: numbnessLocValue' />
                  <area shape="rect" alt="hand(R)" coords="759,165,874,247" href="#" data-bind='click: numbnessLocValue' />
                  <area shape="poly" alt="chest(R)" coords="451,166,452,317,527,314,544,236,508,163" href="#" data-bind='click: numbnessLocValue' />
                  <area shape="poly" alt="chest(L)" coords="441,167,442,318,368,314,353,246,375,168" href="#" data-bind='click: numbnessLocValue' />
                  <area shape="rect" alt="leg(R)" coords="453,517,541,809" href="#" data-bind='click: numbnessLocValue' />
                  <area shape="rect" alt="leg(L)" coords="343,518,438,807" href="#" data-bind='click: numbnessLocValue' />
                  <area shape="rect" alt="foot(R)" coords="460,824,549,902" href="#" data-bind='click: numbnessLocValue' />
                  <area shape="rect" alt="foot(L)" coords="344,822,433,899" href="#" data-bind='click: numbnessLocValue' />
                  <!-- Created by Online Image Map Editor (http://www.maschek.hu/imagemap/index) -->
                </map>
              </div>
              <!--bodyMap-->
            </div>
            <!--container-->
          </div>
          <!--block-b-->
        </div>
        <!--grid a-->
	<!-- Navigation Buttons + Progress Bar -->
 	<div class="ui-grid-b navBod">
          <div class="ui-block-a navA">
		 <a data-role="button" class="previousButton" href="#"></a>
	</div>
          <div class="ui-block-b navB">
           <div class="bar fill"></div> <div class="bar fill">  </div> <div class="bar fill"></div>  <div class="bar fill"></div>  <div class="bar"></div>  <div class="bar"></div>  <div class="bar"></div>  <div class="bar"></div>  <div class="bar"></div>
          </div>
           <div class="ui-block-c navC">
            <a data-role="button" class="nextButton" href="#"></a>
          </div>
        </div>
        <!--DEBUG:
        <pre data-bind="text: ko.toJSON($data,null,2)"></pre>-->
      </div>
      <!--main content-->
      <div data-role="footer" data-position="fixed">
        <h2>&copy; Edinburgh University 2014</h2>
      </div>
    </div>
    <!--............................End of NumbnessPage............................-->
    <div data-role="page" id="tinglingPage" data-theme="d">
      <div data-role="header">
        <h1>Patient Survey; Body</h1>
      </div>
      <div data-role="main" class="ui-content">
        <img src="themes/myImages/NHSlogo.jpg" alt="NHS Scotland" width="85" height="52" id="nhsLogo">
        <div class="ui-grid-a">
          <div class="ui-block-a blockA">
            <span class="thick2">In your last attack did you experience:</span>
            <div class="menu">
              <button class='inactive' id="numbnessBut" value="numbness">Numbness</button>
              <div class="activeBox">
                <button class='active' id="tinglingBut" value="Tingling">Tingling</button>
              </div>
              <button class='inactive' id="weaknessBut" value="Weakness">Weakness</button>
              <button class='inactive' id="jerkingBut" value="Jerking">Jerking</button>
              <button class='inactive' id="tremorBut" value="Tremor">Tremor</button>
              <button class='inactive' id="painBut" value="Pain">Pain</button>
            </div>
          </div>
          <div class="ui-block-b blockB">
            <div id="container" style="position:relative;">
              <div id="instruc">
                <span class="thick">Touch on the body diagram the location(s) where you felt tingly &#x25b6;</span>
              </div>
              <!--instruc-->
              <div class="bodyMap">
                <IMG id="tinglingBody" SRC="themes/myImages/body.png" ALT="Site map" width="555.617" height="577.4385" USEMAP="#tinglingbodyMap">
                <map name="tinglingbodyMap">
                  <area shape="rect" alt="face(R)" coords="447,25,512,146" href="#" data-bind='click: tinglingLocValue' />
                  <area shape="rect" alt="face(L)" coords="388,27,444,145" href="#" data-bind='click: tinglingLocValue' />
                  <area shape="rect" alt="arm(L)" coords="153,167,336,246" href="#" data-bind='click: tinglingLocValue' />
                  <area shape="rect" alt="hand(L)" coords="23,169,131,243" href="#" data-bind='click: tinglingLocValue' />
                  <area shape="rect" alt="arm(R)" coords="560,164,736,251" href="#" data-bind='click: tinglingLocValue' />
                  <area shape="rect" alt="hand(R)" coords="759,165,874,247" href="#" data-bind='click: tinglingLocValue' />
                  <area shape="poly" alt="chest(R)" coords="451,166,452,317,527,314,544,236,508,163" href="#" data-bind='click: tinglingLocValue' />
                  <area shape="poly" alt="chest(L)" coords="441,167,442,318,368,314,353,246,375,168" href="#" data-bind='click: tinglingLocValue' />
                  <area shape="rect" alt="leg(R)" coords="453,517,541,809" href="#" data-bind='click: tinglingLocValue' />
                  <area shape="rect" alt="leg(L)" coords="343,518,438,807" href="#" data-bind='click: tinglingLocValue' />
                  <area shape="rect" alt="foot(R)" coords="460,824,549,902" href="#" data-bind='click: tinglingLocValue' />
                  <area shape="rect" alt="foot(L)" coords="344,822,433,899" href="#" data-bind='click: tinglingLocValue' />
                  <!-- Created by Online Image Map Editor (http://www.maschek.hu/imagemap/index) -->
                </map>
              </div>
              <!--bodyMap-->
            </div>
            <!--container-->
          </div>
          <!--block-b-->
        </div>
        <!--grid a-->
    <!-- Navigation Buttons + Progress Bar -->
 	<div class="ui-grid-b navBod">
          <div class="ui-block-a navA">
		 <a data-role="button" class="previousButton" href="#"></a>
	</div>
          <div class="ui-block-b navB">
           <div class="bar fill"></div> <div class="bar fill">  </div> <div class="bar fill"></div>  <div class="bar fill"></div>  <div class="bar"></div>  <div class="bar"></div>  <div class="bar"></div>  <div class="bar"></div>  <div class="bar"></div>
          </div>
           <div class="ui-block-c navC">
            <a data-role="button" class="nextButton" href="#"></a>
          </div>
        </div>
<!--DEBUG:<pre data-bind="text: ko.toJSON($data,null,2)"></pre>-->
      </div>
      <!--main content-->
      <div data-role="footer" data-position="fixed">
        <h2>&copy; Edinburgh University 2014</h2>
      </div>
    </div>
    <!--............................End of tinglingPage............................-->
    <div data-role="page" id="weaknessPage" data-theme="d">
      <div data-role="header">
        <h1>Patient Survey; Body</h1>
      </div>
      <div data-role="main" class="ui-content">
        <img src="themes/myImages/NHSlogo.jpg" alt="NHS Scotland" width="85" height="52" id="nhsLogo">
        <div class="ui-grid-a">
          <div class="ui-block-a blockA">
            <span class="thick2">In your last attack did you experience:</span>
            <div class="menu">
              <button class='inactive' id="numbnessBut" value="numbness">Numbness</button>
              <button class='inactive' id="tinglingBut" value="Tingling">Tingling</button>
              <div class="activeBox">
                <button class='active' id="weaknessBut" value="weakness">Weakness</button>
              </div>
              <button class='inactive' id="jerkingBut" value="Jerking">Jerking</button>
              <button class='inactive' id="tremorBut" value="Tremor">Tremor</button>
              <button class='inactive' id="painBut" value="Pain">Pain</button>
            </div>
          </div>
          <div class="ui-block-b blockB">
            <div id="container" style="position:relative;">
              <div id="instruc">
                <span class="thick">Touch on the body diagram the location(s) where you felt weak &#x25b6;</span>
              </div>
              <!--instruc-->
              <div class="bodyMap">
                <IMG id="weaknessBody" SRC="themes/myImages/body.png" ALT="Site map" width="555.617" height="577.4385" USEMAP="#weaknessbodyMap">
                <map name="weaknessbodyMap">
                  <area shape="rect" alt="face(R)" coords="447,25,512,146" href="#" data-bind='click: weaknessLocValue' />
                  <area shape="rect" alt="face(L)" coords="388,27,444,145" href="#" data-bind='click: weaknessLocValue' />
                  <area shape="rect" alt="arm(L)" coords="153,167,336,246" href="#" data-bind='click: weaknessLocValue' />
                  <area shape="rect" alt="hand(L)" coords="23,169,131,243" href="#" data-bind='click: weaknessLocValue' />
                  <area shape="rect" alt="arm(R)" coords="560,164,736,251" href="#" data-bind='click: weaknessLocValue' />
                  <area shape="rect" alt="hand(R)" coords="759,165,874,247" href="#" data-bind='click: weaknessLocValue' />
                  <area shape="poly" alt="chest(R)" coords="451,166,452,317,527,314,544,236,508,163" href="#" data-bind='click: weaknessLocValue' />
                  <area shape="poly" alt="chest(L)" coords="441,167,442,318,368,314,353,246,375,168" href="#" data-bind='click: weaknessLocValue' />
                  <area shape="rect" alt="leg(R)" coords="453,517,541,809" href="#" data-bind='click: weaknessLocValue' />
                  <area shape="rect" alt="leg(L)" coords="343,518,438,807" href="#" data-bind='click: weaknessLocValue' />
                  <area shape="rect" alt="foot(R)" coords="460,824,549,902" href="#" data-bind='click: weaknessLocValue' />
                  <area shape="rect" alt="foot(L)" coords="344,822,433,899" href="#" data-bind='click: weaknessLocValue' />
                  <!-- Created by Online Image Map Editor (http://www.maschek.hu/imagemap/index) -->
                </map>
              </div>
              <!--bodyMap-->
            </div>
            <!--container-->
            
          </div>
          <!--block-b-->
        </div>
        <!--grid a-->
        <!-- Navigation Buttons + Progress Bar -->
 	<div class="ui-grid-b navBod">
          <div class="ui-block-a navA">
		 <a data-role="button" class="previousButton" href="#"></a>
	</div>
          <div class="ui-block-b navB">
           <div class="bar fill"></div> <div class="bar fill">  </div> <div class="bar fill"></div>  <div class="bar fill"></div>  <div class="bar"></div>  <div class="bar"></div>  <div class="bar"></div>  <div class="bar"></div>  <div class="bar"></div>
          </div>
           <div class="ui-block-c navC">
            <a data-role="button" class="nextButton" href="#"></a>
          </div>
        </div>
<!--DEBUG:<pre data-bind="text: ko.toJSON($data,null,2)"></pre>-->
      </div>
      <!--main content-->
      <div data-role="footer" data-position="fixed">
        <h2>&copy; Edinburgh University 2014</h2>
      </div>
    </div>
    <!--............................End of weaknessPage............................-->
    <div data-role="page" id="jerkingPage" data-theme="d">
      <div data-role="header">
        <h1>Patient Survey; Body</h1>
      </div>
      <div data-role="main" class="ui-content">
        <img src="themes/myImages/NHSlogo.jpg" alt="NHS Scotland" width="85" height="52" id="nhsLogo">
        <div class="ui-grid-a">
          <div class="ui-block-a blockA">
            <span class="thick2">In your last attack did you experience:</span>
            <div class="menu">
              <button class='inactive' id="numbnessBut" value="numbness">Numbness</button>
              <button class='inactive' id="tinglingBut" value="Tingling">Tingling</button>
              <button class='inactive' id="weaknessBut" value="wWeakness">Weakness</button>
              <div class="activeBox">
                <button class='active' id="jerkingBut" value="Jerking">Jerking</button>
              </div>
              <button class='inactive' id="tremorBut" value="Tremor">Tremor</button>
              <button class='inactive' id="painBut" value="Pain">Pain</button>
            </div>
          </div>
          <div class="ui-block-b blockB">
            <div id="container" style="position:relative;">
              <div id="instruc">
                <span class="thick">Touch on the body diagram the location(s) where you felt jerking &#x25b6;</span>
              </div>
              <!--instruc-->
              <div class="bodyMap">
                <IMG id="jerkingBody" SRC="themes/myImages/body.png" ALT="Site map" width="555.617" height="577.4385" USEMAP="#jerkingbodyMap">
                <map name="jerkingbodyMap">
                  <area shape="rect" alt="face(R)" coords="447,25,512,146" href="#" data-bind='click: jerkingLocValue' />
                  <area shape="rect" alt="face(L)" coords="388,27,444,145" href="#" data-bind='click: jerkingLocValue' />
                  <area shape="rect" alt="arm(L)" coords="153,167,336,246" href="#" data-bind='click: jerkingLocValue' />
                  <area shape="rect" alt="hand(L)" coords="23,169,131,243" href="#" data-bind='click: jerkingLocValue' />
                  <area shape="rect" alt="arm(R)" coords="560,164,736,251" href="#" data-bind='click: jerkingLocValue' />
                  <area shape="rect" alt="hand(R)" coords="759,165,874,247" href="#" data-bind='click: jerkingLocValue' />
                  <area shape="poly" alt="chest(R)" coords="451,166,452,317,527,314,544,236,508,163" href="#" data-bind='click: jerkingLocValue' />
                  <area shape="poly" alt="chest(L)" coords="441,167,442,318,368,314,353,246,375,168" href="#" data-bind='click: jerkingLocValue' />
                  <area shape="rect" alt="leg(R)" coords="453,517,541,809" href="#" data-bind='click: jerkingLocValue' />
                  <area shape="rect" alt="leg(L)" coords="343,518,438,807" href="#" data-bind='click: jerkingLocValue' />
                  <area shape="rect" alt="foot(R)" coords="460,824,549,902" href="#" data-bind='click: jerkingLocValue' />
                  <area shape="rect" alt="foot(L)" coords="344,822,433,899" href="#" data-bind='click: jerkingLocValue' />
                  <!-- Created by Online Image Map Editor (http://www.maschek.hu/imagemap/index) -->
                </map>
              </div>
              <!--bodyMap-->
            </div>
            <!--container-->
          </div>
          <!--block-b-->
        </div>
        <!--grid a-->
        <!-- Navigation Buttons + Progress Bar -->
 	<div class="ui-grid-b navBod">
          <div class="ui-block-a navA">
		 <a data-role="button" class="previousButton" href="#"></a>
	</div>
          <div class="ui-block-b navB">
           <div class="bar fill"></div> <div class="bar fill">  </div> <div class="bar fill"></div>  <div class="bar fill"></div>  <div class="bar"></div>  <div class="bar"></div>  <div class="bar"></div>  <div class="bar"></div>  <div class="bar"></div>
          </div>
           <div class="ui-block-c navC">
            <a data-role="button" class="nextButton" href="#"></a>
          </div>
        </div>
<!--DEBUG:<pre data-bind="text: ko.toJSON($data,null,2)"></pre>-->
      </div>
      <!--main content-->
      <div data-role="footer" data-position="fixed">
        <h2>&copy; Edinburgh University 2014</h2>
      </div>
    </div>
    <!--............................End of jerkingPage............................-->
    <div data-role="page" id="tremorPage" data-theme="d">
      <div data-role="header">
        <h1>Patient Survey; Body</h1>
      </div>
      <div data-role="main" class="ui-content">
        <img src="themes/myImages/NHSlogo.jpg" alt="NHS Scotland" width="85" height="52" id="nhsLogo">
        <div class="ui-grid-a">
          <div class="ui-block-a blockA">
            <span class="thick2">In your last attack did you experience:</span>
            <div class="menu">
              <button class='inactive' id="numbnessBut" value="numbness">Numbness</button>
              <button class='inactive' id="tinglingBut" value="Tingling">Tingling</button>
              <button class='inactive' id="weaknessBut" value="Weakness">Weakness</button>
              <button class='inactive' id="jerkingBut" value="Jerking">Jerking</button>
              <div class="activeBox">
                <button class='active' id="tremorBut" value="Tremor">Tremor</button>
              </div>
              <button class='inactive' id="painBut" value="Pain">Pain</button>
            </div>
          </div>
          <div class="ui-block-b blockB">
            <div id="container" style="position:relative;">
              <div id="instruc">
                <span class="thick">Touch on the body diagram the location(s) where you felt tremor &#x25b6;</span>
              </div>
              <!--instruc-->
              <div class="bodyMap">
                <IMG id="tremorBody" SRC="themes/myImages/body.png" ALT="Site map" width="555.617" height="577.4385" USEMAP="#tremorbodyMap">
                <map name="tremorbodyMap">
                  <area shape="rect" alt="face(R)" coords="447,25,512,146" href="#" data-bind='click: tremorLocValue' />
                  <area shape="rect" alt="face(L)" coords="388,27,444,145" href="#" data-bind='click: tremorLocValue' />
                  <area shape="rect" alt="arm(L)" coords="153,167,336,246" href="#" data-bind='click: tremorLocValue' />
                  <area shape="rect" alt="hand(L)" coords="23,169,131,243" href="#" data-bind='click: tremorLocValue' />
                  <area shape="rect" alt="arm(R)" coords="560,164,736,251" href="#" data-bind='click: tremorLocValue' />
                  <area shape="rect" alt="hand(R)" coords="759,165,874,247" href="#" data-bind='click: tremorLocValue' />
                  <area shape="poly" alt="chest(R)" coords="451,166,452,317,527,314,544,236,508,163" href="#" data-bind='click: tremorLocValue' />
                  <area shape="poly" alt="chest(L)" coords="441,167,442,318,368,314,353,246,375,168" href="#" data-bind='click: tremorLocValue' />
                  <area shape="rect" alt="leg(R)" coords="453,517,541,809" href="#" data-bind='click: tremorLocValue' />
                  <area shape="rect" alt="leg(L)" coords="343,518,438,807" href="#" data-bind='click: tremorLocValue' />
                  <area shape="rect" alt="foot(R)" coords="460,824,549,902" href="#" data-bind='click: tremorLocValue' />
                  <area shape="rect" alt="foot(L)" coords="344,822,433,899" href="#" data-bind='click: tremorLocValue' />
                  <!-- Created by Online Image Map Editor (http://www.maschek.hu/imagemap/index) -->
                </map>
              </div>
              <!--bodyMap-->
            </div>
            <!--container-->
          </div>
          <!--block-b-->
        </div>
        <!--grid a-->
        <!-- Navigation Buttons + Progress Bar -->
 	<div class="ui-grid-b navBod">
          <div class="ui-block-a navA">
		 <a data-role="button" class="previousButton" href="#"></a>
	</div>
          <div class="ui-block-b navB">
           <div class="bar fill"></div> <div class="bar fill">  </div> <div class="bar fill"></div>  <div class="bar fill"></div>  <div class="bar"></div>  <div class="bar"></div>  <div class="bar"></div>  <div class="bar"></div>  <div class="bar"></div>
          </div>
           <div class="ui-block-c navC">
            <a data-role="button" class="nextButton" href="#"></a>
          </div>
        </div>
	<!--DEBUG: <pre data-bind="text: ko.toJSON($data,null,2)"></pre>-->
      </div>
      <!--main content-->
      <div data-role="footer" data-position="fixed">
        <h2>&copy; Edinburgh University 2014</h2>
      </div>
    </div>
    <!--............................End of tremorPage............................-->
    <div data-role="page" id="painPage" data-theme="d">
      <div data-role="header">
        <h1>Patient Survey; Body</h1>
      </div>
      <div data-role="main" class="ui-content">
        <img src="themes/myImages/NHSlogo.jpg" alt="NHS Scotland" width="85" height="52" id="nhsLogo">
        <div class="ui-grid-a">
          <div class="ui-block-a blockA">
            <span class="thick2">In your last attack did you experience:</span>
            <div class="menu">
              <button class='inactive' id="numbnessBut" value="numbness">Numbness</button>
              <button class='inactive' id="tinglingBut" value="Tingling">Tingling</button>
              <button class='inactive' id="weaknessBut" value="wWeakness">Weakness</button>
              <button class='inactive' id="jerkingBut" value="Jerking">Jerking</button>
              <button class='inactive' id="tremorBut" value="Tremor">Tremor</button>
              <div class="activeBox">
                <button class='active' id="painBut" value="Pain">Pain</button>
              </div>
            </div>
          </div>
          <div class="ui-block-b blockB">
            <div id="container" style="position:relative;">
              <div id="instruc">
                <span class="thick">Touch on the body diagram the location(s) where you felt pain &#x25b6;</span>
              </div>
              <!--instruc-->
              <div class="bodyMap">
                <IMG id="painBody" SRC="themes/myImages/body.png" ALT="Site map" width="555.617" height="577.4385" USEMAP="#painbodyMap">
                <map name="painbodyMap">
                  <area shape="rect" alt="face(R)" coords="447,25,512,146" href="#" data-bind='click: painLocValue' />
                  <area shape="rect" alt="face(L)" coords="388,27,444,145" href="#" data-bind='click: painLocValue' />
                  <area shape="rect" alt="arm(L)" coords="153,167,336,246" href="#" data-bind='click: painLocValue' />
                  <area shape="rect" alt="hand(L)" coords="23,169,131,243" href="#" data-bind='click: painLocValue' />
                  <area shape="rect" alt="arm(R)" coords="560,164,736,251" href="#" data-bind='click: painLocValue' />
                  <area shape="rect" alt="hand(R)" coords="759,165,874,247" href="#" data-bind='click: painLocValue' />
                  <area shape="poly" alt="chest(R)" coords="451,166,452,317,527,314,544,236,508,163" href="#" data-bind='click: painLocValue' />
                  <area shape="poly" alt="chest(L)" coords="441,167,442,318,368,314,353,246,375,168" href="#" data-bind='click: painLocValue' />
                  <area shape="rect" alt="leg(R)" coords="453,517,541,809" href="#" data-bind='click: painLocValue' />
                  <area shape="rect" alt="leg(L)" coords="343,518,438,807" href="#" data-bind='click: painLocValue' />
                  <area shape="rect" alt="foot(R)" coords="460,824,549,902" href="#" data-bind='click: painLocValue' />
                  <area shape="rect" alt="foot(L)" coords="344,822,433,899" href="#" data-bind='click: painLocValue' />
                  <!-- Created by Online Image Map Editor (http://www.maschek.hu/imagemap/index) -->
                </map>
              </div>
              <!--bodyMap-->
            </div>
            <!--container-->
          </div>
          <!--block-b-->
        </div>
        <!--grid a-->
        <!-- Navigation Buttons + Progress Bar -->
 	<div class="ui-grid-b navBod">
          <div class="ui-block-a navA">
		 <a data-role="button" class="previousButton" href="#"></a>
	</div>
          <div class="ui-block-b navB">
           <div class="bar fill"></div> <div class="bar fill">  </div> <div class="bar fill"></div>  <div class="bar fill"></div>  <div class="bar"></div>  <div class="bar"></div>  <div class="bar"></div>  <div class="bar"></div>  <div class="bar"></div>
          </div>
           <div class="ui-block-c navC">
            <a data-role="button" class="nextButton" href="#"></a>
          </div>
        </div>
	<!--DEBUG:<pre data-bind="text: ko.toJSON($data,null,2)"></pre>-->
      </div>
      <!--main content-->
      <div data-role="footer" data-position="fixed">
        <h2>&copy; Edinburgh University 2014</h2>
      </div>
    </div>
    <!--............................End of painPage............................-->
    <div data-role="page" id="OtherSymptomsPage" data-theme="d">
      <div data-role="header">
        <h1>Patient Survey; Other Symptoms</h1>
      </div>
      <div data-role="main" class="ui-content" style="margin-left:2%;">
        <img src="themes/myImages/NHSlogo.png" alt="NHS Scotland" width="85" height="52" id="nhsLogo">
        <!--<h2>Other Symptoms</h2>-->
        <br>
        <br>
        <span class="thick2">In your last attack, did you feel:</span>
        <div class="ui-grid-b" style="margin-top:3%;">
          <span class="thick2">Light headed?</span>
          <br>
          <div class="ui-block-a blA">
            <label for="lightYes">Yes</label>
            <input type="radio" data-bind="checked:lightHeaded" name="light" id="lightYes" value="yes" />
          </div>
          <div class="ui-block-b blB">
            <label for="lightNo">No</label>
            <input type="radio" data-bind="checked:lightHeaded" name="light" id="lightNo" value="no" />
          </div>
          <div class="ui-block-c blC">
            <label for="lightDunno">I don't know</label>
            <input type="radio" data-bind="checked:lightHeaded" name="light" id="lightDunno" value="I don't know" />
          </div>
        </div>
        <!--grib b-->
        <div class="ui-grid-b" style="margin-top:3%;">
          <span class="thick2">Like your head was spinning (vertigo)?</span>
          <br>
          <div class="ui-block-a blA">
            <label for="vertigoYes">Yes</label>
            <input type="radio" data-bind="checked:vertigo" name="vertigo" id="vertigoYes" value="yes" />
          </div>
          <div class="ui-block-b blB">
            <label for="vertigoNo">No</label>
            <input type="radio" data-bind="checked:vertigo" name="vertigo" id="vertigoNo" value="no" />
          </div>
          <div class="ui-block-c blC">
            <label for="vertigoDunno">I don't know</label>
            <input type="radio" data-bind="checked:vertigo" name="vertigo" id="vertigoDunno" value="I don't know" />
          </div>
        </div>
        <!--grib b-->
        <div style="margin-top:3%;">
          <span class="thick2">Slide the bar to indicate how suddenly your symptoms began:</span>
          <br>
          <div style="width: 58%; position:absolute; left:6%">
            <input type="range" name="slider" id="slider" min="0" max="10" step="1" data-bind="value: symptomIntensity, slider: symptomIntensity" />
            <label for="slider">
              <h3 id="min">Gradual</h3>
              <h3 id="max">Sudden</h3>
            </label>
          </div>
        </div>
         <!-- Navigation Buttons + Progress Bar -->
 	<div class="ui-grid-b navButtons">
          <div class="ui-block-a navA">
		 <a data-role="button" class="previousButton" href="#"></a>
	</div>
          <div class="ui-block-b navB">
           <div class="bar fill"></div> <div class="bar fill"></div> <div class="bar fill"></div>  <div class="bar fill"></div>  <div class="bar fill"></div>  <div class="bar"></div>  <div class="bar"></div>  <div class="bar"></div>  <div class="bar"></div>
          </div>
           <div class="ui-block-c navC">
            <a data-role="button" class="nextButton" href="#"></a>
          </div>
        </div>
        <!--DEBUG: <pre data-bind="text: ko.toJSON($data,null,2)"></pre>-->
      </div>
      <!--main content-->
      <div data-role="footer" data-position="fixed">
        <h2>&copy; Edinburgh University 2014</h2>
      </div>
    </div>
    <!--End of OtherSymptomsPage-->
    <div data-role="page" id="MedicalHistoryPage" data-theme="d">
      <div data-role="header">
        <h1>Patient Survey; Medical History</h1>
      </div>
      <div data-role="main" class="ui-content" style="margin-left:2%;">
        <img src="themes/myImages/NHSlogo.png" alt="NHS Scotland" width="85" height="52" id="nhsLogo">
        <div class="ui-grid-b" style="margin-top:3%;">
          <span class="thick2">Have you had any other symptoms?</span>
          <br>
          <div class="ui-block-a blA">
            <label for="otherYes">Yes</label>
            <input type="radio" data-bind="checked:otherSymptoms" name="otherSymptoms" id="otherYes" value="yes" />
          </div>
          <div class="ui-block-b blB">
            <label for="otherNo">No</label>
            <input type="radio" data-bind="checked:otherSymptoms" name="otherSymptoms" id="otherNo" value="no" />
          </div>
          <div class="ui-block-c blC">
            <label for="otherDunno">I don't know</label>
            <input type="radio" data-bind="checked:otherSymptoms" name="otherSymptoms" id="otherDunno" value="I don't know" />
          </div>
        </div>
        <!--grib b-->
        <div id="other" data-bind="visible: otherSymptoms() == 'yes'">
          <span class="thick2">Which of the following symptoms did you have:</span>
          <br>
          <div style="width:30%; margin-left:3%">
            <label for="vomiting">Vomiting</label>
            <input type="checkbox" data-bind="checked:vomiting" value="vomiting" id="vomiting" />
            <label for="collapse">Collapse</label>
            <input type="checkbox" data-bind="checked:collapse" value="collapse" id="collapse" />
            <label for="memoryLoss">Memory Loss</label>
            <input type="checkbox" data-bind="checked:memoryLoss" value="memoryLoss" id="memoryLoss" />
            <label for="doubleVision">Double Vision</label>
            <input type="checkbox" data-bind="checked:doubleVision" value="doubleVision" id="doubleVision" />
            <label for="heartPalpatations">Heart Palpatations</label>
            <input type="checkbox" data-bind="checked:heartPalpatations" value="heartPalpatations" id="heartPalpatations" />
          </div>
        </div>
        <!--dynamic content-->
        <div style="margin-top:2.5%;">
          <h2>Medical History</h2>
          <span class="thick2">Before your current symptoms have you had:</span>
          <br>
          <div style="width:30%; margin-left:3%;">
            <label for="heartAttack">Heart attack/ angina</label>
            <input type="checkbox" data-bind="checked:heartAttack" value="heartAttack" id="heartAttack" />
            <label for="stroke">Stroke/ Mini stroke</label>
            <input type="checkbox" data-bind="checked:stroke" value="stroke" id="stroke" />
            <label for="cancer">Cancer</label>
            <input type="checkbox" data-bind="checked:cancer" value="cancer" id="cancer" />
            <label for="epilepsy">Epilepsy</label>
            <input type="checkbox" data-bind="checked:epilepsy" value="epilepsy" id="epilepsy" />
          </div>
        </div>

    <!-- Navigation Buttons + Progress Bar -->
 	<div class="ui-grid-b navButtons" id="navOtherSymp">
          <div class="ui-block-a navA">
		 <a data-role="button" class="previousButton" href="#"></a>
	</div>
          <div class="ui-block-b navB">
           <div class="bar fill"></div> <div class="bar fill">  </div> <div class="bar fill"></div>  <div class="bar fill"></div>  <div class="bar fill"></div>  <div class="bar fill"></div>  <div class="bar"></div>  <div class="bar"></div>  <div class="bar"></div>
          </div>
           <div class="ui-block-c navC">
            <a data-role="button" class="nextButton" href="#"></a>
          </div>
        </div>
        <!--DEBUG:<pre data-bind="text: ko.toJSON($data,null,2)"></pre>-->
      </div>
      <!--main content-->
      <div data-role="footer" data-position="fixed">
        <h2>&copy; Edinburgh University 2014</h2>
      </div>
    </div>
    <!--End of MedicalHistoryPage-->
    <div data-role="page" id="SnapInstructionsPage" data-theme="d">
      <div data-role="header">
        <h1>Patient Survey; How to Play</h1>
      </div>
      <div data-role="main" class="ui-content">
        <img src="themes/myImages/NHSlogo.png" alt="NHS Scotland" width="85" height="52" id="nhsLogo">
        <div id='step1'>
          <h2>In order to measure your reaction time, a game of 'Snap' will now follow.</h2>
          <br>
          <button id='step2But'>Learn How to Play &#x25b6;</button>
        </div>
        <div class="navButtons navA" id="step1But">
		 <a data-role="button" class="previousButton" href="#"></a>
	</div>
        <div id='step2'>
          <span class="thick3">1. You will be shown two picture cards. If the two cards match, touch anywhere on the screen as fast as you can.</span>
          <img src="themes/myImages/snapCards.png" alt="snapCards" class="snapCard">
          <button id='step3But'>Next &#x25b6;</button>
          <button id='step3ButP'>&#x25c0; Previous</button>
        </div>
        <div id='step3'>
          <span class="thick3">2. If you are correct the message 'Snap!' will appear.</span>
          <img src="themes/myImages/snapCorrect.png" alt="snapCorrect" class="snapCard">
          <button id='step4But'>Next &#x25b6;</button>
          <button id='step4ButP'>&#x25c0; Previous</button>
        </div>
        <div id='step4'>
          <span class="thick3">3. If you are wrong a red 'X' will appear.</span>
          <img src="themes/myImages/snapIncorrect.png" alt="snapWrong" class="snapCard">
          <button id='step5ButP'>&#x25c0; Previous</button>
          <a data-role="button" id="playSnap" href="#">
            <span style="font-size:25px;">Play
              <br>Snap!</span>
            <span style="position:absolute;bottom:9%;font-size:56px;">&#x3009;</span>
          </a>
        </div>
     
     <div class="navButtons navB" style="left:25%;">
	<div class="bar fill"></div> <div class="bar fill">  </div> <div class="bar fill"></div>  <div class="bar fill"></div>  <div class="bar fill"></div>  <div class="bar fill"></div>  <div class="bar fill"></div>  <div class="bar"></div>  <div class="bar"></div>
     </div>
 </div>
      <!--main content-->
      <div data-role="footer" data-position="fixed">
        <h2>&copy; Edinburgh University 2014</h2>
      </div>
    </div>
    <!--End of SnapInstructionPage-->
    <div data-role="page" id="SnapPage" data-theme="d">
      <div data-role="header">
        <h1>Patient Survey; Snap!</h1>
      </div>
      <div data-role="main" class="ui-content">
        <div id='snapWrapper'>
          <div class="ui-grid-b" style="margin-top:7%;position:relative;">
            <div class="ui-block-a" style="width:20%; margin-left:28%;margin-right:5%;">
              <div id="card1" class='snap'></div>
            </div>
            <div class="ui-block-b" style="width:20% margin-left:36%;">
              <div id="card2" class='snap'></div>
            </div>
          </div>
          <!-- /grid-a -->
          <div id='snapOverlay'></div>
        </div>
        <!--snapWrapper-->
        <div id='gameMsg'></div>
        <div id='score'></div>
        <!--DEBUG: <pre data-bind="text: ko.toJSON($data,null,2)"></pre>--> 
         <a class="abandon" id="exitSnap" data-role="button" href="#"></a>
      </div>
      <!--main content-->
      <div data-role="footer" data-position="fixed">
        <h2>&copy; Edinburgh University 2014</h2>
      </div>
    </div>
    <!--End of SnapPage-->
    <div data-role="page" id="PairsInstructionsPage" data-theme="d">
      <div data-role="header">
        <h1>Patient Survey; How to Play</h1>
      </div>
      <div data-role="main" class="ui-content">
        <img src="themes/myImages/NHSlogo.png" alt="NHS Scotland" width="85" height="52" id="nhsLogo">
        <div id='p_step1'>
          <h2>In order to examine your memory, a game of 'Pairs' will now follow.</h2>
          <br>
          <button id='pstep2But'>Learn How to Play &#x25b6;</button>
        </div>
        <div id='p_step2'>
          <span class="thick">1. You will be shown a group of picture cards. Try to remember where the pairs are.</span>
          <img src="themes/myImages/pairsCardsFaceUp.png" alt="pairs cards" class="pairCard">
          <button id='pstep3But'>Next</button>
          <button id='pstep3ButP'>&#x25c0; Previous</button>
        </div>
        <div id='p_step3'>
          <span class="thick">2. You have 3 seconds before the cards are turned over. Select each pair by touching them on the screen.</span>
          <img src="themes/myImages/pairsCardsFaceDown.png" alt="cards face down" class="pairCard">
          <button id='pstep4But'>Next &#x25b6;</button>
          <button id='pstep4ButP'>&#x25c0; Previous</button>
        </div>
        <div id='p_step4'>
          <span class="thick">3. If you are correct, a message saying "pair!" will appear.</span>
          <img src="themes/myImages/pairsCardsCorrect.png" alt="pairs! message" class="pairCard">
          <button id='pstep5ButP'>&#x25c0; Previous</button>
          <button id='pstep5But'>Next &#x25b6;</button>
        </div>
        <div id="pairsWrapper" style="position: relative;">
          <div id='p_step5'>
            <span class="thick">4. If you are wrong a message saying "miss" will appear.</span>
            <img src="themes/myImages/pairsCardsIncorrect.png" alt="miss message" class="pairCard">
            <button id='pstep6ButP'>&#x25c0; Previous </button>
            <a data-role="button" id="tryDemo" href="#">
              <span style="font-size:25px;">Try
                <br>Demo</span>
              <span style="position:absolute;bottom:9%;font-size:56px;">&#x3009;</span>
            </a>
          </div>
          <!--Step 5-->
          <div id="p_step55">
            <span style="font-size: 20px;font-weight:900;">Next is demo of "Pairs" with 3 pairs of cards.
              <br>
              <br>This will be followed by "Pairs" with 6 pairs of cards.</span>
          </div>
        </div>
        <!--pairsWrapper-->
      
      <!--DEBUG:
      <pre data-bind="text: ko.toJSON($data,null,2)"></pre>-->
 <div class="navButtons navB" style="left:26%;">
	<div class="bar fill"></div> <div class="bar fill">  </div> <div class="bar fill"></div>  <div class="bar fill"></div>  <div class="bar fill"></div>  <div class="bar fill"></div>  <div class="bar fill"></div>  <div class="bar fill"></div>  <div class="bar"></div>
     </div>
</div>
      <!--main content-->
      <div data-role="footer" data-position="fixed">
        <h2>&copy; Edinburgh University 2014</h2>
      </div>
    </div>
    <!--End of PairsInstructionPage-->
    <div data-role="page" id="PairsDemoPage" data-theme="d">
      <div data-role="header">
        <h1>Patient Survey; Pairs Demo</h1>
      </div>
      <div data-role="main" class="ui-content">
        <div id='pairsWrapper'>
          <div class="ui-grid-b" style="position: relative;">
            <div class="ui-block-a" style="width: 16%; margin-top:5%; margin-left: 290px;">
              <div class="pairDiv" id="r1c1">
                <img src="themes/myImages/pairsCats.png" alt="cat" id="stPairDemA" class="stPair">
                <img src="themes/myImages/card_back.png" alt="back" id="stPairDemAb" class="stPairb">
              </div>
            </div>
            <div class="ui-block-b" style="width: 16%; margin-top:5%;margin-left: 50px;">
              <div class="pairDiv" id="r1c2">
                <img src="themes/myImages/pairsTriangle.png" alt="triangle" id="ndPairDemA" class="ndPair">
                <img src="themes/myImages/card_back.png" alt="back" id="ndPairDemAb" class="ndPairb">
              </div>
            </div>
            <div class="ui-block-c" style="width: 16%; margin-top:5%;margin-left: 50px;">
              <div class="pairDiv" id="r1c3">
                <img src="themes/myImages/pairsHourglass.png" alt="hourglass" id="rdPairDemA" class="rdPair">
                <img src="themes/myImages/card_back.png" alt="back" id="rdPairDemAb" class="rdPairb">
              </div>
            </div>
            <div class="ui-block-a" style="width: 16%; margin-top:5%;margin-left: 290px;">
              <div class="pairDiv" id="r2c1">
                <img src="themes/myImages/pairsHourglass.png" alt="triangle" id="rdPairDemB" class="rdPair">
                <img src="themes/myImages/card_back.png" alt="back" id="rdPairDemBb" class="rdPairb">
              </div>
            </div>
            <div class="ui-block-b" style="width:16%; margin-top:5%;margin-left: 50px;">
              <div class="pairDiv" id="r2c2">
                <img src="themes/myImages/pairsTriangle.png" id="ndPairDemB" class="ndPair">
                <img src="themes/myImages/card_back.png" alt="back" id="ndPairDemBb" class="ndPairb">
              </div>
            </div>
            <div class="ui-block-c" style="width: 16%; margin-top:5%;margin-left: 50px;">
              <div class="pairDiv" id="r2c3">
                <img src="themes/myImages/pairsCats.png" alt="cat" id="stPairDemB" class="stPair">
                <img src="themes/myImages/card_back.png" alt="back" id="stPairDemBb" class="stPairb">
              </div>
            </div>
          </div>
          <!-- /grid-b -->
          <div id='pairsOverlay'></div>
        </div>
        <!--pairsWrapper-->
          <a class="abandon" data-role="button" href="#"></a>
        <!--DEBUG:<pre data-bind="text: ko.toJSON($data,null,2)"></pre>-->
      </div>
      <!--main content-->
      <div data-role="footer" data-position="fixed">
        <h2>&copy; Edinburgh University 2014</h2>
      </div>
    </div>
    <!--End of PairsDemoPage-->
    <div data-role="page" id="PairsPage" data-theme="d">
      <div data-role="header">
        <h1>Patient Survey; Pairs</h1>
      </div>
      <div data-role="main" class="ui-content">
        <div id='pairsWrapper'>
          <div class="ui-grid-c">
            <!-- ************************ ROW 1 ****************************-->
            <div class="ui-block-a tgrdA">
              <div class="pairDiv" id="rr1c1">
                <img src="themes/myImages/pairsCats.png" alt="cat" id="stPairA" class="stPair">
                <img src="themes/myImages/card_back.png" alt="back" id="stPairAb" class="stPairb">
              </div>
            </div>
            <div class="ui-block-b tgrdB">
              <div class="pairDiv" id="rr1c2">
                <img src="themes/myImages/pairsHat.png" alt="hat" id="fthPairB" class="fthPair">
                <img src="themes/myImages/card_back.png" alt="back" id="fthPairBb" class="fthPairb">
              </div>
            </div>
            <div class="ui-block-c tgrdC">
              <div class="pairDiv" id="rr1c3">
                <img src="themes/myImages/pairsHourglass.png" alt="hourglass" id="rdPairA" class="rdPair">
                <img src="themes/myImages/card_back.png" alt="back" id="rdPairAb" class="rdPairb">
              </div>
            </div>
            <div class="ui-block-d tgrdD">
              <div class="pairDiv" id="rr1c4">
                <img src="themes/myImages/pairsDots.png" alt="dots" id="rthPairA" class="rthPair">
                <img src="themes/myImages/card_back.png" alt="back" id="rthPairAb" class="rthPairb">
              </div>
            </div>
            <!-- ************************ ROW 2 ****************************-->
            <div class="ui-block-a grdA">
              <div class="pairDiv" id="rr2c1">
                <img src="themes/myImages/pairsHearts.png" alt="heart" id="thPairA" class="thPair">
                <img src="themes/myImages/card_back.png" alt="back" id="thPairAb" class="thPairb">
              </div>
            </div>
            <div class="ui-block-b grdB">
              <div class="pairDiv" id="rr2c2">
                <img src="themes/myImages/pairsHourglass.png" alt="hourglass" id="rdPairB" class="rdPair">
                <img src="themes/myImages/card_back.png" alt="back" id="rdPairBb" class="rdPairb">
              </div>
            </div>
            <div class="ui-block-c grdC">
              <div class="pairDiv" id="rr2c3">
                <img src="themes/myImages/pairsHearts.png" alt="heart" id="thPairB" class="thPair">
                <img src="themes/myImages/card_back.png" alt="back" id="thPairBb" class="thPairb">
              </div>
            </div>
            <div class="ui-block-d grdD">
              <div class="pairDiv" id="rr2c4">
                <img src="themes/myImages/pairsDots.png" alt="dots" id="rthPairB" class="rthPair">
                <img src="themes/myImages/card_back.png" alt="back" id="rthPairBb" class="rthPairb">
              </div>
            </div>
            <!-- ************************ ROW 3 ****************************-->
            <div class="ui-block-a grdA">
              <div class="pairDiv" id="rr3c1">
                <img src="themes/myImages/pairsHat.png" alt="hat" id="fthPairA" class="fthPair">
                <img src="themes/myImages/card_back.png" alt="back" id="fthPairAb" class="fthPairb">
              </div>
            </div>
            <div class="ui-block-b grdB">
              <div class="pairDiv" id="rr3c2">
                <img src="themes/myImages/pairsTriangle.png" alt="triangle" id="ndPairB" class="ndPair">
                <img src="themes/myImages/card_back.png" alt="back" id="ndPairBb" class="ndPairb">
              </div>
            </div>
            <div class="ui-block-c grdC">
              <div class="pairDiv" id="rr3c3">
                <img src="themes/myImages/pairsTriangle.png" alt="triangle" id="ndPairA" class="ndPair">
                <img src="themes/myImages/card_back.png" alt="back" id="ndPairAb" class="ndPairb">
              </div>
            </div>
            <div class="ui-block-d grdD">
              <div class="pairDiv" id="rr3c4">
                <img src="themes/myImages/pairsCats.png" alt="cat" id="stPairB" class="stPair">
                <img src="themes/myImages/card_back.png" alt="back" id="stPairBb" class="stPairb">
              </div>
            </div>
          </div>
          <!-- /grid-c -->
          <div id='pairsOverlay'></div>
        </div>
        <!--pairsWrapper-->       
	<a class="abandon" style="left:83%;" data-role="button" href="#"></a>
      </div>
      <!--main content-->
      <div data-role="footer" data-position="fixed">
        <h2>&copy; Edinburgh University 2014</h2>
      </div>
    </div>
    <!--End of PairsPage-->
    <div data-role="page" id="ThankYouPage" data-theme="d">
      <div data-role="header">
        <h1>Patient Survey; The End</h1>
      </div>
      <div data-role="main" class="ui-content">
        <div style="position:fixed; top:35%; left:35%;">
          <h2>Thank you for completing this survey!</h2>
          <br>
          <span class="thick">Return tablet device to a member of staff</span>
        </div>
 <div class="navButtons navB" style="left:26%;">
	<div class="bar fill"></div> <div class="bar fill">  </div> <div class="bar fill"></div>  <div class="bar fill"></div>  <div class="bar fill"></div>  <div class="bar fill"></div>  <div class="bar fill"></div>  <div class="bar fill"></div>  <div class="bar fill"></div>
     </div>
      </div>
      <!--main content-->
      <div data-role="footer" data-position="fixed">
        <h2>&copy; Edinburgh University 2014</h2>
      </div>
    </div>
    <!--End of ThankYouPage-->
    <div data-role="page" id="ResultsPage" data-theme="d">
      <div data-role="header">
        <h1>Patient Survey; View Results</h1>
      </div>
      <div data-role="main" class="ui-content" style="margin-left:2%;">
        <img src="themes/myImages/NHSlogo.png" alt="NHS Scotland" width="85" height="52" id="nhsLogo">
        <h1>Results</h1>
        <div id="dataWrapper"> </div> <!--height:400px;-->
        <div class="ui-grid-a  navResults" style="position:relative">
          <div class="ui-block-a"> <a data-role="button" id="goBack" href="#">Go back</a> 
          </div>
          <div class="ui-block-b"> <a data-role="button" id="clearData" href="#">Clear Data</a> 
          </div>
        </div>
      </div>
      <!--main content-->
      <div data-role="footer" data-position="fixed">
        <h2>&copy; Edinburgh University 2014</h2>
      </div>
    </div>
    <!--End of ResultsPage-->
    <div data-role="dialog" id="sure" data-title="Are you sure?">
      <div data-role="content">
        <h3 class="sure-1">???</h3>
        <p class="sure-2">???</p> <a href="#" class="sure-do" data-role="button" data-theme="b" data-rel="back">Yes</a>
        <a href="#" data-role="button" data-theme="c" data-rel="back">No</a>
      </div>
    </div>
    <!--End of DialoguePage-->

    <script type='text/javascript'>
      /*custom binding handler thanks to Varun http://stackoverflow.com/a/16493161/2308978*/
      ko.bindingHandlers.slider = {
        init: function(element, valueAccessor, allBindingsAccessor, viewModel, bindingContext) {
          var value = valueAccessor();
          $(element).attr("value", value());
          $(document).on({
            "change": function(elem) {
              var sliderVal = $('#' + element.id).val();
              value(sliderVal);
            }
          }, ".ui-slider");
        }
      };
      var viewModel = {
        consent: ko.observable(false),
        id: ko.observable(),
        respodentValue: ko.observable("Patient"),
        exactDate: ko.observable(),
        exactDateCheck: ko.observable(),
        estDate: ko.observable(),
        estDateUnit: ko.observable(),
		estDateCheck: ko.observable(),
        attackNo: ko.observable(),
        attackNoCheck: ko.observable(),
        attackDuration: ko.observable(),
        durationUnit: ko.observable(),
        durationCheck: ko.observable(),
        slurredSpeech: ko.observable(),
        speakingDifficulty: ko.observable(),
        wordComprehension: ko.observable(),
        visionLoss: ko.observable(),
		oneEye: ko.observable(),
		bothEyes: ko.observable(),
        whichEye: ko.observable(),
        visionTest: ko.observable(),
        sparklyLight: ko.observable(),
        lightHeaded: ko.observable(),
        vertigo: ko.observable(),
        symptomIntensity: ko.observable(),
        otherSymptoms: ko.observable(),
        vomiting: ko.observable(),
        collapse: ko.observable(),
        memoryLoss: ko.observable(),
        doubleVision: ko.observable(),
        heartPalpatations: ko.observable(),
        heartAttack: ko.observable(),
        stroke: ko.observable(),
        cancer: ko.observable(),
        epilepsy: ko.observable(),
        numbnessLoc: ko.observableArray(),
        numbnessLocValue: function(data, element) {
          this.numbnessLoc.push($(element.target).attr('alt'));
        },
        tinglingLoc: ko.observableArray(),
        tinglingLocValue: function(data, element) {
          this.tinglingLoc.push($(element.target).attr('alt'));
        },
        weaknessLoc: ko.observableArray(),
        weaknessLocValue: function(data, element) {
          this.weaknessLoc.push($(element.target).attr('alt'));
        },
        jerkingLoc: ko.observableArray(),
        jerkingLocValue: function(data, element) {
          this.jerkingLoc.push($(element.target).attr('alt'));
        },
        tremorLoc: ko.observableArray(),
        tremorLocValue: function(data, element) {
          this.tremorLoc.push($(element.target).attr('alt'));
        },
        painLoc: ko.observableArray(),
        painLocValue: function(data, element) {
          this.painLoc.push($(element.target).attr('alt'));
        },
        pairs: ko.observable(),
        rt: ko.observable(),
        buttonPresses: ko.observable(),
        timeToCompl: ko.observable(),
        incorrectPairs: ko.observable(),
        correctPairs: ko.observable(),
      };
      ko.applyBindings(viewModel);
      viewModel.exactDateCheck.subscribe(function(value) {
        if (value == true) {
          $("#navSymptoms").css("position", "relative");
        } else {
          $("#navSymptoms").css("position", "fixed");
        }
      });
      viewModel.oneEye.subscribe(function(value) {
        if (value == 'yes' || value =='no') {
          $("#navVision").css("position", "relative");
        } else {
          $("#navVision").css("position", "fixed");
        }
      });
      viewModel.otherSymptoms.subscribe(function(value) {
        if (value == 'yes') {
          $("#navOtherSymp").css("position", "relative");
        } else {
          $("#navOtherSymp").css("position", "fixed");
        }
      });
      $(document).ready(function() {
$.mobile.defaultPageTransition = 'none';
        $(".nextButton, .abandon").on('click', nextPage);
        $(".previousButton").on('click', previousPage);
        $("#goBack").on('click', previousPage); 
        $("#finish").on('click', store);

        $("#start").on('click', nextPage); 

        $("#viewResults").on('click', function() {
	        $("#dataWrapper").html("");
		getDataSets();
          $.mobile.changePage("#ResultsPage");
        });
     

  $("#clearData").on('click', function() { 
          areYouSure("Are you sure you want to delete the data?", "The data will not be recoverable", "Yes", clearStorage);
	 	
	});

function clearStorage(){
	alert("localStorgae cleared"); //localStorage.clear();
}

function areYouSure(text1, text2, button, callback) {
  $("#sure .sure-1").text(text1);
  $("#sure .sure-2").text(text2);
  $("#sure .sure-do").text(button).on("click.sure", function() {
    callback();
    $(this).off("click.sure");
  });
  $.mobile.changePage("#sure");
}

      }); //document ready
      $(".data-input").datepicker({
        defaultDate: null
      }); //highlight current date on datepicker
       //Sort out overlapping issues with numpad using z-index.
      $(function() {
        $('#symptom_onset').keypad();
        $('#frequencyKeypad').keypad();
        $('#durationKeypad').keypad();
        $('#symptom_onset').on('click', function() {
          $('#datepicker').css('position', 'relative');
          $('#datepicker').css('z-index', '100');
          $('#duration').css('position', 'relative');
          $('#datepicker').css('z-index', '1');
          $('#frequency').css('position', 'relative');
          $('#datepicker').css('z-index', '1');
        });
        $('#duration').on('click', function() {
          $('#duration').css('position', 'relative');
          $('#datepicker').css('z-index', '100');
          $('#datepicker').css('position', 'relative');
          $('#datepicker').css('z-index', '1');
          $('#frequency').css('position', 'relative');
          $('#datepicker').css('z-index', '1');
        });
        $('#frequency').on('click', function() {
          $('#frequency').css('position', 'relative');
          $('#datepicker').css('z-index', '100');
          $('#datepicker').css('position', 'relative');
          $('#datepicker').css('z-index', '1');
          $('#duration').css('position', 'relative');
          $('#datepicker').css('z-index', '1');
        });
      });

      function nextPage() {
        var currentPageID = $.mobile.activePage.attr('id');
        switch (currentPageID) {
          case "AdminPage":
		$.mobile.changePage("#WelcomePage");
	    break;
          case "WelcomePage":
            $.mobile.changePage("#SymptomsPage");
            store(); //store progress so far	
            break;
          case "IdentificationPage":
            $.mobile.changePage("#SymptomsPage");
            store();
            break;
          case "SymptomsPage":
            $.mobile.changePage("#SpeechProblemsPage");
            store();
            break;
          case "SpeechProblemsPage":
            $.mobile.changePage("#VisionProblemsPage");
            store();
            break;
          case "VisionProblemsPage":
            $.mobile.changePage("#SelectPage");
            store();
            break;
          case "SelectPage":
          case "numbnessPage":
          case "tinglingPage":
          case "weaknessPage":
          case "jerkingPage":
          case "tremorPage":
          case "painPage":
            $.mobile.changePage("#OtherSymptomsPage");
            store();
            break;
          case "OtherSymptomsPage":
            $.mobile.changePage("#MedicalHistoryPage");
            store();
            break;
          case "MedicalHistoryPage":
            $.mobile.changePage("#SnapInstructionsPage");
            store();
            break;
          case "SnapInstructionsPage":
            $.mobile.changePage("#SnapPage");
            store();
            break;
          case "SnapPage":
            $.mobile.changePage("#PairsInstructionsPage");
            store();
            break;
          case "PairsDemoPage":
            $.mobile.changePage("#PairsPage");
            store();
            break;
	case "PairsPage":
	$.mobile.changePage("#ThankYouPage");
          store();
          default:
            break;
        }
      }

      function previousPage() {
        var currentPageID = $.mobile.activePage.attr('id');
        switch (currentPageID) {
          case "SymptomsPage":
            $.mobile.changePage("#WelcomePage");
            break;
          case "SpeechProblemsPage":
            $.mobile.changePage("#SymptomsPage");
            break;
          case "VisionProblemsPage":
            $.mobile.changePage("#SpeechProblemsPage");
            break;
          case "SelectPage":
            $.mobile.changePage("#VisionProblemsPage");
            break;
          case "numbnessPage":
          case "tinglingPage":
          case "weaknessPage":
          case "jerkingPage":
          case "tremorPage":
          case "painPage":
            $.mobile.changePage("#SelectPage");
            break;
          case "OtherSymptomsPage":
            $.mobile.changePage("#SelectPage");
            break;
          case "MedicalHistoryPage":
            $.mobile.changePage("#OtherSymptomsPage");
            break;
          case "SnapInstructionsPage":
            $.mobile.changePage("#MedicalHistoryPage");
            break;
	    case "ResultsPage":
		$.mobile.changePage("#AdminPage");
	  break;
          default:
            break;
        }
      }
      /* ******************************* Script for Snaps Game ************************************ */
      var score = [];
      var index = 0;
      var t0;
      var t1;
      var gameStart = false;
      var roundC = 0;
      var snapCounter = 1;
      var rand1;
      var rand2;
      var arrL = [];
      var arrR = [];
      var htmlL = "<div class=snapImg>";
      var htmlR = "<div class=snapImg>";
      var idL;
      var idR;
      var buttonPress = 0;
      var pause = false;
      var clicked = false;
      var interval;
      var picture = ['cross.png', 'tree.png', 'square.png', 'equals.png'];
      for (i = 0; i < 12; i++) {
        rand1 = Math.floor(Math.random() * picture.length);
        rand2 = Math.floor(Math.random() * picture.length);
        if (i == 2) {
          rand1 = rand2;
        } else if (i == 6) {
          rand2 = rand1;
        } else if (i == 10) {
          rand1 = rand2;
        } else if (rand1 == rand2 && (rand2 != picture.length - 1)) {
          rand1 = rand1 + 1;
        } else if (rand1 == rand2 && (rand2 == picture.length - 1)) {
          rand1 = rand1 - 1;
        }
        arrL.push(rand1);
        arrR.push(rand2);
        var urlL = "themes/myImages/" + picture[arrL[i]];
        var idL = "snapL" + i;
        var urlR = "themes/myImages/" + picture[arrR[i]];
        var idR = "snapR" + i;
        htmlL = htmlL + "<img src='" + urlL + "' id='" + idL + "' class='snappy'>";
        htmlR = htmlR + "<img src='" + urlR + "' id='" + idR + "' class='snappy'>";
      }
      htmlL = htmlL + "</div>"
      htmlR = htmlR + "</div>"
      $("#card1").append(htmlL);
      $("#card2").append(htmlR);
 

      function recursiveTimer(roundC) {
        interval = setInterval(function() {
          t0 = '';
          t1 = '';
          roundC += 1;
          if (roundC == 13) {
            gameStart = false;
            clearInterval(interval);
            alert('Game Over! Your average reaction time was ' + computeAvg() + 'ms');
          } else if (pause == true) {
            pause = false;
            roundC = roundC - 1; //creates a delay to allow time for viewer to process game status message
          } else {
            clicked = false;
            //$("#score").html("<span style='color:white;'>" + roundC + "</span>");
            idL = "snapL" + (roundC - 1);
            var idLL = "snapL" + (roundC - 2);
            $("#" + idL).css("display", "block");
            $("#" + idLL).css("display", "none");
            idR = "snapR" + (roundC - 1);
            var idRR = "snapR" + (roundC - 2);
            $("#" + idR).css("display", "block");
            $("#" + idRR).css("display", "none");
            $('.snap').css("background-color", "#FFFFFF");
            gameStart = true;
            t0 = Date.now();
            $("#snapOverlay").html(" ");
            $("#gameMsg").html(" ");
          }
        }, 2000);
      } //recursiveTimer
       //scripts for onload of #SnapPage
      $(document).delegate("#SnapPage", "pagecreate", function() {
        $('.snap').css("background-color", "#004200");
        $("#snapOverlay").html('3');
        setTimeout(function() {
          $("#snapOverlay").html('2');
        }, 1000);
        setTimeout(function() {
          $("#snapOverlay").html('1');
        }, 2000);
        setTimeout(function() {
          recursiveTimer(roundC);
        }, 1000);



        $("#SnapPage").on('click', function(e) {
    
          buttonPress++;
	
          if (gameStart & (clicked != true)) {
            t1 = Date.now();
            lookForMatch();
            $("#" + card1).css("display", "none')");
          }
        });
      }); //scripts for onload of #SnapPage
       //Hide and show divs containing the game instructions
      $("#step2But").on('click', function(e) {
        $("#step2").css('display', 'block');
        $("#step1").css('display', 'none');
        $("#step1But").css('display', 'none');
      });
      $("#step3But").on('click', function(e) {
        $("#step3").css('display', 'block');
        $("#step2").css('display', 'none');
      });
      $("#step4But").on('click', function(e) {
        $("#step4").css('display', 'block');
        $("#step3").css('display', 'none');
      });
      $("#step3ButP").on('click', function(e) {
        $("#step1").css('display', 'block');
        $("#step1But").css('display', 'block');
        $("#step2").css('display', 'none');
      });
      $("#step4ButP").on('click', function(e) {
        $("#step2").css('display', 'block');
        $("#step3").css('display', 'none');
      });
      $("#step5ButP").on('click', function(e) {
        $("#step3").css('display', 'block');
        $("#step4").css('display', 'none');
      });

      function lookForMatch() {
        clicked = true;
        var imgL = $("#" + idL).attr('src');
        var imgR = $("#" + idR).attr('src');
        if (imgL == imgR) {
          var rt = t1 - t0;
          score.push(rt);
          /*alert(score + 'ms');	
          $("#score").append("<br> " + score[index] + 'ms');*/
          index++;
          $("#gameMsg").append(" <br> <span id='spanMsgSnap'>Snap!</span>");
          pause = true;
        } else {
          $("#gameMsg").append("<br> <span id='spanMsgX'>X</span>");
          pause = true;
        };
      }
      /* $("#score").append("Reaction time: ");*/
      function computeAvg() {
        var total = 0;
        for (i = 0; i < score.length; i++) {
          total = total + score[i];
        }
        return total / score.length;
      }
      $("#playSnap").on('click', nextPage);
      $("#exitSnap").on('click', function(){
            clearInterval(interval); 
	    viewModel.rt(computeAvg());
            viewModel.buttonPresses(buttonPress);});

      /* ******************************* Script for Pairs Game ************************************ */
      $("#tryDemo").on('click', function(){ $.mobile.changePage("#PairsDemoPage");});
       //Hide and show divs containing the game instructions
      $("#pstep2But").on('click', function(e) {
        $("#p_step2").css('display', 'block');
        $("#p_step1").css('display', 'none');
      });
      $("#pstep3But").on('click', function(e) {
        $("#p_step3").css('display', 'block');
        $("#p_step2").css('display', 'none');
      });
      $("#pstep4But").on('click', function(e) {
        $("#p_step4").css('display', 'block');
        $("#p_step3").css('display', 'none');
      });
      $("#pstep5But").on('click', function(e) {
        $("#p_step55").css('display', 'block');
        $("#p_step5").css('display', 'block');
        $("#p_step4").css('display', 'none');
      });
      $("#pstep3ButP").on('click', function(e) {
        $("#p_step1").css('display', 'block');
        $("#p_step2").css('display', 'none');
      });
      $("#pstep4ButP").on('click', function(e) {
        $("#p_step2").css('display', 'block');
        $("#p_step3").css('display', 'none');
      });
      $("#pstep5ButP").on('click', function(e) {
        $("#p_step3").css('display', 'block');
        $("#p_step4").css('display', 'none');
      });
      $("#pstep6ButP").on('click', function(e) {
        $("#p_step4").css('display', 'block');
        $("#p_step55").css('display', 'none');
        $("#p_step5").css('display', 'none');
      });
            var alternate = false;
      var card1f, card2f;
      var gameMsgDone = true;
      var counter = 0;
      var card1;
      var card2;
      var stCardPair;
      var ndCardPair;
      var pair = [''];
      var id;
      var url;
      var counter = 0; //keeps track of how many pairs of cards have been found.
      var currentPage = '';
      var correctMatches;
      var incorrectMatches;
      $(document).delegate("#PairsDemoPage", "pagecreate", function() {
        setTimeout(function() {
          $(".stPair,.ndPair,.rdPair", $.mobile.activePage).css("display", "none");
          $(".stPairb,.ndPairb,.rdPairb", $.mobile.activePage).css("display", "block");
        }, 2000);
        currentPage = 'PairsDemoPage';
      });
      $(document).delegate("#PairsPage", "pagecreate", function() {
        var counterDemo = counter;
        correctMatches = 0;
        incorrectMatches = 0;
        counter = 0;
        gameMsgDone = true;
        setTimeout(function() {
          $(".stPair,.ndPair,.rdPair,.rthPair,.fthPair, .thPair", $.mobile.activePage).css("display", "none");
          $(".stPairb,.ndPairb,.rdPairb,.rthPairb,.fthPairb, .thPairb", $.mobile.activePage).css("display", "block");
        }, 5000);
        currentPage = 'PairsPage';
      });
      $('.stPairb, .ndPairb, .rdPairb, .rthPairb,.fthPairb, .thPairb', $.mobile.activePage).on('click', pairScore);

      function pairScore() {
        if (gameMsgDone == true) {
          if (alternate == false) {
            id = event.target.id; //$("#derpina").append("<span style='color:white;'>" + id + "</span>");
            pair = [id];
            alternate = true;
          } else {
            id = event.target.id; //$("#derpina").append(" <span style='color:white;'>" + id + "</span><br>");
            gameMsgDone = false;
            pair.push(id);
            card1 = pair[0].slice(0, pair[0].length - 2);
            card2 = pair[1].slice(0, pair[1].length - 2);
            if (card1 == card2) {
              card1Pair = pair[0].charAt(pair[0].length - 2);
              card2Pair = pair[1].charAt(pair[1].length - 2);
              if ((card1Pair == 'A' && card2Pair == 'B') || (card1Pair == 'B' && card2Pair == 'A')) {
                showCards(pair[0], pair[1]);
                $("#pairsOverlay", $.mobile.activePage).html("<span class='spanMsg'>Pair!</span>");
                $("#pairsOverlay", $.mobile.activePage).css('background-color', '#FAF741');
                setTimeout(function() {
                  $("#pairsOverlay", $.mobile.activePage).html(" ");
                  card1f = pair[0].slice(0, pair[0].length - 1);
                  card2f = pair[1].slice(0, pair[1].length - 1);
                  var card1Div = document.getElementById(card1f).parentNode.id;
                  var card2Div = document.getElementById(card2f).parentNode.id;
                  $("#" + card1f + ",#" + card2f, $.mobile.activePage).css("display", "none");
                  $("#" + card1Div + ",#" + card2Div, $.mobile.activePage).css("background-color", "#004200");
                  gameMsgDone = true;
                  correctMatches++;
                  counter = counter + 2;
                  if (counter == 12) {
                    alert('Game over!');
                    viewModel.correctPairs(correctMatches);
                    viewModel.incorrectPairs(incorrectMatches);
                  }
                }, 2000);
              }
            } else {
              showCards(pair[0], pair[1]);
              $("#pairsOverlay", $.mobile.activePage).html("<span class='spanMsg'>miss</span>");
              $("#pairsOverlay", $.mobile.activePage).css('background-color', '#F5033B');
              setTimeout(function() {
                $("#pairsOverlay", $.mobile.activePage).html(" ");
                card1f = pair[0].slice(0, pair[0].length - 1);
                card2f = pair[1].slice(0, pair[1].length - 1);
                $("#" + card1f + ",#" + card2f, $.mobile.activePage).css("display", "none");
                $("#" + pair[0] + ",#" + pair[1], $.mobile.activePage).css("display", "block");
                incorrectMatches++;
                gameMsgDone = true;
              }, 2000);
            }
            alternate = false;
          } //alternate		
        } //gameMsgDone
      }

      function showCards(card1b, card2b) {
        var card1f = card1b.slice(0, card1b.length - 1);
        var card2f = card2b.slice(0, card2b.length - 1);
        $("#" + card1b).css("display", "none");
        $("#" + card1f).css("display", "block");
        $("#" + card2b).css("display", "none");
        $("#" + card2f).css("display", "block");
      }
      /* ************************************** Script for Body Pages ***************************** */
      var toggle = false;
      $(document).ready(function() {
        $("#numbnessBody,#tinglingBody,#weaknessBody,#jerkingBody,#tremorBody,#painBody").mapster({
          singleSelect: false,
          mapKey: 'alt',
          fill: false,
          stroke: true,
          strokeColor: '000000',
          strokeWidth: 3,
          areas: [{
            key: 'foot(L)',
            strokeColor: '006600'
          }, {
            key: 'foot(R)',
            strokeColor: '006600'
          }, {
            key: 'leg(L)',
            strokeColor: 'FF0000'
          }, {
            key: 'leg(R)',
            strokeColor: 'FF0000'
          }, {
            key: 'hand(L)',
            strokeColor: '0099FF'
          }, {
            key: 'hand(R)',
            strokeColor: '0099FF'
          }, {
            key: 'arm(L)',
            strokeColor: '5C00B8'
          }, {
            key: 'arm(R)',
            strokeColor: '5C00B8'
          }, {
            key: 'chest(L)',
            strokeColor: 'FF7519'
          }, {
            key: 'chest(R)',
            strokeColor: 'FF7519'
          }, {
            key: 'face(L)',
            strokeColor: 'B800B8'
          }, {
            key: 'face(R)',
            strokeColor: 'B800B8'
          }],
          onClick: function(event) {
            var array = event.key.split("(");
            var name = array[0];
            if (event['selected'] == true) {} else {
              var pageId = $.mobile.activePage[0].id;
              var arrName = pageId.split('Page')[0];
              removeFromKO(event.key, arrName); //update ko to exclude the deslected body part
              //update ko with new array
            }
          }
        }); //mapster
        function removeFromKO(alt, arrName) {
          var lastElem;
          var arr = getArray(arrName);
          pos = $.inArray(alt, arr);
          if (pos != -1) {
            lastElem = arr.length - 2;
            arr.splice(pos, 1);
            arr.splice(lastElem, 1);
          }
          updateArray(arrName, arr);
        }

        function updateArray(arrName, arr) {
          switch (arrName) {
            case "numbness":
              viewModel.numbnessLoc(arr);
              break;
            case "tingling":
              viewModel.tinglingLoc(arr);
              break;
            case "weakness":
              viewModel.weaknessLoc(arr);
              break;
            case "jerking":
              viewModel.jerkingLoc(arr);
              break;
            case "tremor":
              viewModel.tremorLoc(arr);
              break;
            case "pain":
              viewModel.painLoc(arr);
              break;
            default:
              break;
          }
        }

        function getArray(arrName) {
          switch (arrName) {
            case "numbness":
              return viewModel.numbnessLoc();
              break;
            case "tingling":
              return viewModel.tinglingLoc();
              break;
            case "weakness":
              return viewModel.weaknessLoc();
              break;
            case "jerking":
              return viewModel.jerkingLoc();
              break;
            case "tremor":
              return viewModel.tremorLoc();
              break;
            case "pain":
              return viewModel.painLoc();
              break;
            default:
              break;
          }
        }


        /* ************************ Body Symptoms ********************** */

 $("button").on('click', function() {
          sensation(this.id);
        });


        function sensation(id) {
          switch (id) {
            case "numbnessBut":
              $.mobile.changePage("#numbnessPage");
              break;
            case "tinglingBut":
              $.mobile.changePage("#tinglingPage");
              break;
            case "weaknessBut":
              $.mobile.changePage("#weaknessPage");
              break;
            case "jerkingBut":
              $.mobile.changePage("#jerkingPage");
              break;
            case "tremorBut":
              $.mobile.changePage("#tremorPage");
              break;
            case "painBut":
              $.mobile.changePage("#painPage");
              break;
            default:
              break;
          }
        }
      });
      /* ************************LOCAL STORAGE ********************** */
       //checking wheather HTML5 local storage is supported
      function supports_html5_storage() {
        try {
          return 'localStorage' in window && window['localStorage'] !== null;
        } catch (e) {
          alert("this device does not support HTML5 local storage");
          return false;
        }
      }
      var dataSet = ["Patient1", "Patient2", "Patient3", "Patient4", "Patient5", "Patient6", "Patient7"];

      function store() {
        var keySelected = $('#patientID').val();
        localStorage.setItem(keySelected, ko.toJSON(viewModel)); // Put the object into storage
        //jQuery.mobile.changePage(); force reload of a page 
        //close browser - somehow return to admin page
      }
      $(document).delegate("#ResultsPage", "pagecreate", function() {
        supports_html5_storage();
        //getDataSets();
      });

      function getDataSets() {
        var keySelected = $('#patientID').val();
       
          var obj = JSON.parse(localStorage.getItem(keySelected));
           console.log(keySelected);
          if (obj != null) {
	       $(".navResults").css("margin-top", "5px");	
	       $("#dataWrapper").append("<span style='font-size:18px;'>Data set for " + keySelected + "</span><br>");
		for (var key in obj) {
		  if (obj.hasOwnProperty(key)) {
		    $("#dataWrapper").append(key + " -> " + obj[key]+"<br>");
		  }
		}
            
          }else{ $("#dataWrapper").append("<span style='font-size:18px;'> No results to show for "+keySelected+"</span><br>");
	        $(".navResults").css("margin-top", "400px");
		}
       
      }

    </script>
  </body>