<!DOCTYPE html>
<html>

  <head>
    <title>Patient Questionnaire</title>
    <meta charset=utf-8 />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!--My Own CSS-->
    <link rel="stylesheet" href="themes/formatting.css" />
    <!--JQuery Mobile CSS-->
    <link rel="stylesheet" href="themes/MyTheme.css" />
    <link rel="stylesheet" href="themes/jquery.mobile.icons.min.css" />
    <link rel="stylesheet" href="http://code.jquery.com/mobile/1.4.2/jquery.mobile-1.4.2.min.css" />
    <!--<script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>-->
    <!--JQuery Mobile JavaScript-->
    <script src="http://code.jquery.com/mobile/1.4.2/jquery.mobile-1.4.2.min.js"></script>
    <!--External scripts needed for date-picker-->
    <link rel="stylesheet" href="http://code.jquery.com/mobile/git/jquery.mobile-git.css" />
    <link rel="stylesheet" href="https://rawgithub.com/arschmitz/jquery-mobile-datepicker-wrapper/master/jquery.mobile.datepicker.css" />
    <script src="http://code.jquery.com/jquery-1.9.1.js"></script>
    <script src="https://rawgithub.com/jquery/jquery-ui/1-10-stable/ui/jquery.ui.datepicker.js"></script>
    <script src="http://code.jquery.com/mobile/git/jquery.mobile-git.js"></script>
    <script src="https://rawgithub.com/arschmitz/jquery-mobile-datepicker-wrapper/master/jquery.mobile.datepicker.js"></script>
    <!--Extrenal scripts needed for knockout library-->
    <script type='text/javascript' src='knockout-3.1.0.js'></script>
    <!--External scripts needed for imagemapster plugin-->
    <!--<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>-->
    <script src="jquery.imagemapster.js"></script>
    <style>
    </style>
  </head>

  <body>
    <div data-role="page" id="selectPage" data-theme="d">
      <div data-role="header">
        <h1>Patient Survey; Body</h1>
      </div>
      <div data-role="main" class="ui-content">
        <img src="themes/myImages/NHSlogo.jpg" alt="NHS Scotland" width="85" height="52" id="nhsLogo">
        <div class="ui-grid-a">
          <div class="ui-block-a blockA">
            <h3>In you last attack, did you expeience:</h3>
	     <div class="menu">       
              <button class='inactive' id="numbnessBut" value="Numbness">Numbness</button>
              <button class='inactive' id="tinglingBut" value="Tingling">Tingling</button>
              <button class='inactive' id="weaknessBut" value="Weakness">Weakness</button>
              <button class='inactive' id="jerkingBut" value="Jerking">Jerking</button>
              <button class='inactive' id="tremorBut" value="Tremor">Tremor</button>
              <button class='inactive' id="painBut" value="Pain">Pain</button>
	   </div>	
           </div>
          <div class="ui-block-b" style="width:70%;">
            <h3 style="margin-top:26%;margin-left:2%;">&#x25c0;&nbsp; Select from the menu of symptoms on the left.</h3>
       <a data-role="button" style="margin-top:20%" class="nextButton" href="#"></a>
          </div>
        </div>
        <!--grid-a-->
       
        <br>DEBUG:
        <pre data-bind="text: ko.toJSON($data,null,2)"></pre>
      </div>
      <!--main content-->
      <div data-role="footer" data-position="fixed">
        <h2>&copy; Edinburgh University 2014</h2>
      </div>
    </div>
    <!--............................End of Select............................-->

    <div data-role="page" id="numbnessPage" data-theme="d">
      <div data-role="header">
        <h1>Patient Survey; Body</h1>
      </div>
      <div data-role="main" class="ui-content">
        <img src="themes/myImages/NHSlogo.jpg" alt="NHS Scotland" width="85" height="52" id="nhsLogo">
        <div class="ui-grid-a">
          <div class="ui-block-a blockA">
            <h3>In your last attack did you experience:</h3>
	     <div class="menu">	
            <div class="activeBox">
              <button class='active' id="numbnessBut" value="Numbness">Numbness</button>
            </div>
            <button class='inactive' id="tinglingBut" value="Tingling">Tingling</button>
            <button class='inactive' id="weaknessBut" value="Weakness">Weakness</button>
            <button class='inactive' id="jerkingBut" value="Jerking">Jerking</button>
            <button class='inactive' id="tremorBut" value="Tremor">Tremor</button>
            <button class='inactive' id="painBut" value="Pain">Pain</button>
          </div>
	</div>
          <div class="ui-block-b blockB">
            <div id="container" style="position:relative;">
              <div id="instruc">
                <h4 style="">Touch on the body diagram the location(s) where you felt numb  &#x25b6;</h4>
              </div>
              <!--instruc-->
              <div class="bodyMap" style="position:absolute;">		
                <IMG id="numbnessBody" SRC="themes/myImages/body.png" ALT="Site map" width="505.197.14" height="525.042" USEMAP="#numbnessbodyMap">
                <map name="numbnessbodyMap">
                  <area shape="rect" alt="face(R)" coords="447,25,512,146" href="#" data-bind='click: numbnessLocValue' />
                  <area shape="rect" alt="face(L)" coords="388,27,444,145" href="#" data-bind='click: numbnessLocValue' />
                  <area shape="rect" alt="arm(L)" coords="153,167,336,246" href="#" data-bind='click: numbnessLocValue' />
                  <area shape="rect" alt="hand(L)" coords="23,169,131,243" href="#" data-bind='click: numbnessLocValue' />
                  <area shape="rect" alt="arm(R)" coords="560,164,736,251" href="#" data-bind='click: numbnessLocValue' />
                  <area shape="rect" alt="hand(R)" coords="759,165,874,247" href="#" data-bind='click: numbnessLocValue' />
                  <area shape="poly" alt="chest(R)" coords="451,166,452,317,527,314,544,236,508,163" href="#" data-bind='click: numbnessLocValue' />
                  <area shape="poly" alt="chest(L)" coords="441,167,442,318,368,314,353,246,375,168" href="#" data-bind='click: numbnessLocValue' />
                  <area shape="rect" alt="leg(R)" coords="453,517,541,809" href="#" data-bind='click: numbnessLocValue' />
                  <area shape="rect" alt="leg(L)" coords="343,518,438,807" href="#" data-bind='click: numbnessLocValue' />
                  <area shape="rect" alt="foot(R)" coords="460,824,549,902" href="#" data-bind='click: numbnessLocValue' />
                  <area shape="rect" alt="foot(L)" coords="344,822,433,899" href="#" data-bind='click: numbnessLocValue' />
                  <!-- Created by Online Image Map Editor (http://www.maschek.hu/imagemap/index) -->
                </map>
              </div> <!--bodyMap-->
		<div class="ui-grid-a">
			<div class="ui-block-a">
				<a data-role="button" style="margin-top:100%;" class="previousButton" href="#"></a>
			</div>
			<div class="ui-block-b">
				<a data-role="button" style="margin-top:100%;left:64%;" class="nextButton" href="#"></a>	
			</div>
		</div>
            </div> <!--container-->
          </div> <!--block-b-->
        </div><!--grid a-->
  
 <!--DEBUG:
        <pre data-bind="text: ko.toJSON($data,null,2)"></pre>-->
      </div>
      <!--main content-->
      <div data-role="footer" data-position="fixed">
        <h2>&copy; Edinburgh University 2014</h2>
      </div>
    </div>
    <!--............................End of NumbnessPage............................-->

<div data-role="page" id="tinglingPage" data-theme="d">
      <div data-role="header">
        <h1>Patient Survey; Body</h1>
      </div>
      <div data-role="main" class="ui-content">
        <img src="themes/myImages/NHSlogo.jpg" alt="NHS Scotland" width="85" height="52" id="nhsLogo">
        <div class="ui-grid-a">
          <div class="ui-block-a blockA">
            <h3>In your last attack did you experience:</h3>
	     <div class="menu">	       
              <button class='inactive' id="numbnessBut" value="numbness">Numbness</button>
            <div class="activeBox">
            <button class='active' id="tinglingBut" value="Tingling">Tingling</button>
	   </div>
            <button class='inactive' id="weaknessBut" value="Weakness">Weakness</button>
            <button class='inactive' id="jerkingBut" value="Jerking">Jerking</button>
            <button class='inactive' id="tremorBut" value="Tremor">Tremor</button>
            <button class='inactive' id="painBut" value="Pain">Pain</button>
          </div>
	</div>
          <div class="ui-block-b blockB">
            <div id="container" style="position:relative;">
              <div id="instruc">
                <h4 style="">Touch on the body diagram the location(s) where you felt tingly  &#x25b6;</h4>
              </div>
              <!--instruc-->
              <div class="bodyMap" style="position:absolute;">
                <IMG id="tinglingBody" SRC="themes/myImages/body.png" ALT="Site map" width="505.197.14" height="525.042" USEMAP="#tinglingbodyMap">
                <map name="tinglingbodyMap">
                  <area shape="rect" alt="face(R)" coords="447,25,512,146" href="#" data-bind='click: tinglingLocValue' />
                  <area shape="rect" alt="face(L)" coords="388,27,444,145" href="#" data-bind='click: tinglingLocValue' />
                  <area shape="rect" alt="arm(L)" coords="153,167,336,246" href="#" data-bind='click: tinglingLocValue' />
                  <area shape="rect" alt="hand(L)" coords="23,169,131,243" href="#" data-bind='click: tinglingLocValue' />
                  <area shape="rect" alt="arm(R)" coords="560,164,736,251" href="#" data-bind='click: tinglingLocValue' />
                  <area shape="rect" alt="hand(R)" coords="759,165,874,247" href="#" data-bind='click: tinglingLocValue' />
                  <area shape="poly" alt="chest(R)" coords="451,166,452,317,527,314,544,236,508,163" href="#" data-bind='click: tinglingLocValue' />
                  <area shape="poly" alt="chest(L)" coords="441,167,442,318,368,314,353,246,375,168" href="#" data-bind='click: tinglingLocValue' />
                  <area shape="rect" alt="leg(R)" coords="453,517,541,809" href="#" data-bind='click: tinglingLocValue' />
                  <area shape="rect" alt="leg(L)" coords="343,518,438,807" href="#" data-bind='click: tinglingLocValue' />
                  <area shape="rect" alt="foot(R)" coords="460,824,549,902" href="#" data-bind='click: tinglingLocValue' />
                  <area shape="rect" alt="foot(L)" coords="344,822,433,899" href="#" data-bind='click: tinglingLocValue' />
                  <!-- Created by Online Image Map Editor (http://www.maschek.hu/imagemap/index) -->
                </map>
              </div> <!--bodyMap-->
            </div> <!--container-->
	    <a data-role="button" style="margin-top:48%" class="nextButton" href="#"></a>  
          </div> <!--block-b-->
        </div><!--grid a-->
  
 DEBUG:
        <pre data-bind="text: ko.toJSON($data,null,2)"></pre>
      </div>
      <!--main content-->
      <div data-role="footer" data-position="fixed">
        <h2>&copy; Edinburgh University 2014</h2>
      </div>
    </div>
    <!--............................End of tinglingPage............................-->

<div data-role="page" id="weaknessPage" data-theme="d">
      <div data-role="header">
        <h1>Patient Survey; Body</h1>
      </div>
      <div data-role="main" class="ui-content">
        <img src="themes/myImages/NHSlogo.jpg" alt="NHS Scotland" width="85" height="52" id="nhsLogo">
        <div class="ui-grid-a">
          <div class="ui-block-a blockA">
            <h3>In your last attack did you experience:</h3>
	     <div class="menu">	       
              <button class='inactive' id="numbnessBut" value="numbness">Numbness</button>
	    <button class='inactive' id="tinglingBut" value="Tingling">Tingling</button>
            <div class="activeBox">
            <button class='active' id="weaknessBut" value="weakness">Weakness</button>
	   </div>
            <button class='inactive' id="jerkingBut" value="Jerking">Jerking</button>
            <button class='inactive' id="tremorBut" value="Tremor">Tremor</button>
            <button class='inactive' id="painBut" value="Pain">Pain</button>
          </div>
	</div>
          <div class="ui-block-b blockB">
            <div id="container" style="position:relative;">
              <div id="instruc">
                <h4 style="">Touch on the body diagram the location(s) where you felt weak  &#x25b6;</h4>
              </div>
              <!--instruc-->
              <div class="bodyMap" style="position:absolute;">
                <IMG id="weaknessBody" SRC="themes/myImages/body.png" ALT="Site map" width="505.197.14" height="525.042" USEMAP="#weaknessbodyMap">
                <map name="weaknessbodyMap">
                  <area shape="rect" alt="face(R)" coords="447,25,512,146" href="#" data-bind='click: weaknessLocValue' />
                  <area shape="rect" alt="face(L)" coords="388,27,444,145" href="#" data-bind='click: weaknessLocValue' />
                  <area shape="rect" alt="arm(L)" coords="153,167,336,246" href="#" data-bind='click: weaknessLocValue' />
                  <area shape="rect" alt="hand(L)" coords="23,169,131,243" href="#" data-bind='click: weaknessLocValue' />
                  <area shape="rect" alt="arm(R)" coords="560,164,736,251" href="#" data-bind='click: weaknessLocValue' />
                  <area shape="rect" alt="hand(R)" coords="759,165,874,247" href="#" data-bind='click: weaknessLocValue' />
                  <area shape="poly" alt="chest(R)" coords="451,166,452,317,527,314,544,236,508,163" href="#" data-bind='click: weaknessLocValue' />
                  <area shape="poly" alt="chest(L)" coords="441,167,442,318,368,314,353,246,375,168" href="#" data-bind='click: weaknessLocValue' />
                  <area shape="rect" alt="leg(R)" coords="453,517,541,809" href="#" data-bind='click: weaknessLocValue' />
                  <area shape="rect" alt="leg(L)" coords="343,518,438,807" href="#" data-bind='click: weaknessLocValue' />
                  <area shape="rect" alt="foot(R)" coords="460,824,549,902" href="#" data-bind='click: weaknessLocValue' />
                  <area shape="rect" alt="foot(L)" coords="344,822,433,899" href="#" data-bind='click: weaknessLocValue' />
                  <!-- Created by Online Image Map Editor (http://www.maschek.hu/imagemap/index) -->
                </map>
              </div> <!--bodyMap-->
            </div> <!--container-->
	    <a data-role="button" style="margin-top:48%" class="nextButton" href="#"></a>  
          </div> <!--block-b-->
        </div><!--grid a-->
  
 DEBUG:
        <pre data-bind="text: ko.toJSON($data,null,2)"></pre>
      </div>
      <!--main content-->
      <div data-role="footer" data-position="fixed">
        <h2>&copy; Edinburgh University 2014</h2>
      </div>
    </div>
    <!--............................End of weaknessPage............................-->

<div data-role="page" id="jerkingPage" data-theme="d">
      <div data-role="header">
        <h1>Patient Survey; Body</h1>
      </div>
      <div data-role="main" class="ui-content">
        <img src="themes/myImages/NHSlogo.jpg" alt="NHS Scotland" width="85" height="52" id="nhsLogo">
        <div class="ui-grid-a">
          <div class="ui-block-a blockA">
            <h3>In your last attack did you experience:</h3>
	     <div class="menu">	       
              <button class='inactive' id="numbnessBut" value="numbness">Numbness</button>
	    <button class='inactive' id="tinglingBut" value="Tingling">Tingling</button>
            <button class='inactive' id="weaknessBut" value="wWeakness">Weakness</button>
            <div class="activeBox">
            <button class='active' id="jerkingBut" value="Jerking">Jerking</button>
	   </div>
            <button class='inactive' id="tremorBut" value="Tremor">Tremor</button>
            <button class='inactive' id="painBut" value="Pain">Pain</button>
          </div>
	</div>
          <div class="ui-block-b blockB">
            <div id="container" style="position:relative;">
              <div id="instruc">
                <h4 style="">Touch on the body diagram the location(s) where you felt jerking  &#x25b6;</h4>
              </div>
              <!--instruc-->
              <div class="bodyMap" style="position:absolute;">
                <IMG id="jerkingBody" SRC="themes/myImages/body.png" ALT="Site map" width="505.197.14" height="525.042" USEMAP="#jerkingbodyMap">
                <map name="jerkingbodyMap">
                  <area shape="rect" alt="face(R)" coords="447,25,512,146" href="#" data-bind='click: jerkingLocValue' />
                  <area shape="rect" alt="face(L)" coords="388,27,444,145" href="#" data-bind='click: jerkingLocValue' />
                  <area shape="rect" alt="arm(L)" coords="153,167,336,246" href="#" data-bind='click: jerkingLocValue' />
                  <area shape="rect" alt="hand(L)" coords="23,169,131,243" href="#" data-bind='click: jerkingLocValue' />
                  <area shape="rect" alt="arm(R)" coords="560,164,736,251" href="#" data-bind='click: jerkingLocValue' />
                  <area shape="rect" alt="hand(R)" coords="759,165,874,247" href="#" data-bind='click: jerkingLocValue' />
                  <area shape="poly" alt="chest(R)" coords="451,166,452,317,527,314,544,236,508,163" href="#" data-bind='click: jerkingLocValue' />
                  <area shape="poly" alt="chest(L)" coords="441,167,442,318,368,314,353,246,375,168" href="#" data-bind='click: jerkingLocValue' />
                  <area shape="rect" alt="leg(R)" coords="453,517,541,809" href="#" data-bind='click: jerkingLocValue' />
                  <area shape="rect" alt="leg(L)" coords="343,518,438,807" href="#" data-bind='click: jerkingLocValue' />
                  <area shape="rect" alt="foot(R)" coords="460,824,549,902" href="#" data-bind='click: jerkingLocValue' />
                  <area shape="rect" alt="foot(L)" coords="344,822,433,899" href="#" data-bind='click: jerkingLocValue' />
                  <!-- Created by Online Image Map Editor (http://www.maschek.hu/imagemap/index) -->
                </map>
              </div> <!--bodyMap-->
            </div> <!--container-->
	    <a data-role="button" style="margin-top:48%" class="nextButton" href="#"></a>  
          </div> <!--block-b-->
        </div><!--grid a-->
  
 DEBUG:
        <pre data-bind="text: ko.toJSON($data,null,2)"></pre>
      </div>
      <!--main content-->
      <div data-role="footer" data-position="fixed">
        <h2>&copy; Edinburgh University 2014</h2>
      </div>
    </div>
    <!--............................End of jerkingPage............................-->

<div data-role="page" id="tremorPage" data-theme="d">
      <div data-role="header">
        <h1>Patient Survey; Body</h1>
      </div>
      <div data-role="main" class="ui-content">
        <img src="themes/myImages/NHSlogo.jpg" alt="NHS Scotland" width="85" height="52" id="nhsLogo">
        <div class="ui-grid-a">
          <div class="ui-block-a blockA">
            <h3>In your last attack did you experience:</h3>
	     <div class="menu">	       
              <button class='inactive' id="numbnessBut" value="numbness">Numbness</button>
	    <button class='inactive' id="tinglingBut" value="Tingling">Tingling</button>
            <button class='inactive' id="weaknessBut" value="Weakness">Weakness</button>
            <button class='inactive' id="jerkingBut" value="Jerking">Jerking</button>
            <div class="activeBox">
            <button class='active' id="tremorBut" value="Tremor">Tremor</button>
	   </div>
            <button class='inactive' id="painBut" value="Pain">Pain</button>
          </div>
	</div>
          <div class="ui-block-b blockB">
            <div id="container" style="position:relative;">
              <div id="instruc">
                <h4 style="">Touch on the body diagram the location(s) where you felt tremor  &#x25b6;</h4>
              </div>
              <!--instruc-->
              <div class="bodyMap" style="position:absolute;">
                <IMG id="tremorBody" SRC="themes/myImages/body.png" ALT="Site map" width="505.197.14" height="525.042" USEMAP="#tremorbodyMap">
                <map name="tremorbodyMap">
                  <area shape="rect" alt="face(R)" coords="447,25,512,146" href="#" data-bind='click: tremorLocValue' />
                  <area shape="rect" alt="face(L)" coords="388,27,444,145" href="#" data-bind='click: tremorLocValue' />
                  <area shape="rect" alt="arm(L)" coords="153,167,336,246" href="#" data-bind='click: tremorLocValue' />
                  <area shape="rect" alt="hand(L)" coords="23,169,131,243" href="#" data-bind='click: tremorLocValue' />
                  <area shape="rect" alt="arm(R)" coords="560,164,736,251" href="#" data-bind='click: tremorLocValue' />
                  <area shape="rect" alt="hand(R)" coords="759,165,874,247" href="#" data-bind='click: tremorLocValue' />
                  <area shape="poly" alt="chest(R)" coords="451,166,452,317,527,314,544,236,508,163" href="#" data-bind='click: tremorLocValue' />
                  <area shape="poly" alt="chest(L)" coords="441,167,442,318,368,314,353,246,375,168" href="#" data-bind='click: tremorLocValue' />
                  <area shape="rect" alt="leg(R)" coords="453,517,541,809" href="#" data-bind='click: tremorLocValue' />
                  <area shape="rect" alt="leg(L)" coords="343,518,438,807" href="#" data-bind='click: tremorLocValue' />
                  <area shape="rect" alt="foot(R)" coords="460,824,549,902" href="#" data-bind='click: tremorLocValue' />
                  <area shape="rect" alt="foot(L)" coords="344,822,433,899" href="#" data-bind='click: tremorLocValue' />
                  <!-- Created by Online Image Map Editor (http://www.maschek.hu/imagemap/index) -->
                </map>
              </div> <!--bodyMap-->
            </div> <!--container-->
	    <a data-role="button" style="margin-top:48%" class="nextButton" href="#"></a>  
          </div> <!--block-b-->
        </div><!--grid a-->
  
 DEBUG:
        <pre data-bind="text: ko.toJSON($data,null,2)"></pre>
      </div>
      <!--main content-->
      <div data-role="footer" data-position="fixed">
        <h2>&copy; Edinburgh University 2014</h2>
      </div>
    </div>
    <!--............................End of tremorPage............................-->

<div data-role="page" id="painPage" data-theme="d">
      <div data-role="header">
        <h1>Patient Survey; Body</h1>
      </div>
      <div data-role="main" class="ui-content">
        <img src="themes/myImages/NHSlogo.jpg" alt="NHS Scotland" width="85" height="52" id="nhsLogo">
        <div class="ui-grid-a">
          <div class="ui-block-a blockA">
            <h3>In your last attack did you experience:</h3>
	     <div class="menu">	       
              <button class='inactive' id="numbnessBut" value="numbness">Numbness</button>
	    <button class='inactive' id="tinglingBut" value="Tingling">Tingling</button>
            <button class='inactive' id="weaknessBut" value="wWeakness">Weakness</button>
            <button class='inactive' id="jerkingBut" value="Jerking">Jerking</button>
            <button class='inactive' id="tremorBut" value="Tremor">Tremor</button>
            <div class="activeBox">
            <button class='active' id="painBut" value="Pain">Pain</button>
	   </div>
          </div>
	</div>
          <div class="ui-block-b blockB">
            <div id="container" style="position:relative;">
              <div id="instruc">
                <h4 >Touch on the body diagram the location(s) where you felt pain  &#x25b6;</h4>
              </div>
              <!--instruc-->
              <div class="bodyMap" style="position:absolute;">
                <IMG id="painBody" SRC="themes/myImages/body.png" ALT="Site map" width="505.197.14" height="525.042" USEMAP="#painbodyMap">
                <map name="painbodyMap">
                  <area shape="rect" alt="face(R)" coords="447,25,512,146" href="#" data-bind='click: painLocValue' />
                  <area shape="rect" alt="face(L)" coords="388,27,444,145" href="#" data-bind='click: painLocValue' />
                  <area shape="rect" alt="arm(L)" coords="153,167,336,246" href="#" data-bind='click: painLocValue' />
                  <area shape="rect" alt="hand(L)" coords="23,169,131,243" href="#" data-bind='click: painLocValue' />
                  <area shape="rect" alt="arm(R)" coords="560,164,736,251" href="#" data-bind='click: painLocValue' />
                  <area shape="rect" alt="hand(R)" coords="759,165,874,247" href="#" data-bind='click: painLocValue' />
                  <area shape="poly" alt="chest(R)" coords="451,166,452,317,527,314,544,236,508,163" href="#" data-bind='click: painLocValue' />
                  <area shape="poly" alt="chest(L)" coords="441,167,442,318,368,314,353,246,375,168" href="#" data-bind='click: painLocValue' />
                  <area shape="rect" alt="leg(R)" coords="453,517,541,809" href="#" data-bind='click: painLocValue' />
                  <area shape="rect" alt="leg(L)" coords="343,518,438,807" href="#" data-bind='click: painLocValue' />
                  <area shape="rect" alt="foot(R)" coords="460,824,549,902" href="#" data-bind='click: painLocValue' />
                  <area shape="rect" alt="foot(L)" coords="344,822,433,899" href="#" data-bind='click: painLocValue' />
                  <!-- Created by Online Image Map Editor (http://www.maschek.hu/imagemap/index) -->
                </map>
              </div> <!--bodyMap-->
            </div> <!--container-->
	    <a data-role="button" style="margin-top:48%" class="nextButton" href="#"></a>  
          </div> <!--block-b-->
        </div><!--grid a-->
  
 DEBUG:
        <pre data-bind="text: ko.toJSON($data,null,2)"></pre>
      </div>
      <!--main content-->
      <div data-role="footer" data-position="fixed">
        <h2>&copy; Edinburgh University 2014</h2>
      </div>
    </div>
    <!--............................End of painPage............................-->

    <script type='text/javascript'>
      var viewModel = {
        numbnessLoc: ko.observableArray(),
        numbnessLocValue: function(data, element) {
          this.numbnessLoc.push($(element.target).attr('alt'));
        },
        tinglingLoc: ko.observableArray(),
        tinglingLocValue: function(data, element) {
          this.tinglingLoc.push($(element.target).attr('alt'));
        },
        weaknessLoc: ko.observableArray(),
        weaknessLocValue: function(data, element) {
          this.weaknessLoc.push($(element.target).attr('alt'));
        },
        jerkingLoc: ko.observableArray(),
        jerkingLocValue: function(data, element) {
          this.jerkingLoc.push($(element.target).attr('alt'));
        },
        tremorLoc: ko.observableArray(),
        tremorLocValue: function(data, element) {
          this.tremorLoc.push($(element.target).attr('alt'));
        },
       painLoc: ko.observableArray(),
        painLocValue: function(data, element) {
          this.painLoc.push($(element.target).attr('alt'));
        },
      };
      ko.applyBindings(viewModel);

	var toggle=false;

       $(document).ready(function() {
      
        $("#numbnessBody,#tinglingBody,#weaknessBody,#jerkingBody,#tremorBody,#painBody").mapster({
          singleSelect: false,
          mapKey: 'alt',
          fill: false,
          stroke: true,
          strokeColor: '000000',
          strokeWidth: 3,
          areas: [{
            key: 'foot(L)',
            strokeColor: '006600'
          }, {
            key: 'foot(R)',
            strokeColor: '006600'
          }, {
            key: 'leg(L)',
            strokeColor: 'FF0000'
          }, {
            key: 'leg(R)',
            strokeColor: 'FF0000'
          }, {
            key: 'hand(L)',
            strokeColor: '0099FF'
          }, {
            key: 'hand(R)',
            strokeColor: '0099FF'
          }, {
            key: 'arm(L)',
            strokeColor: '5C00B8'
          }, {
            key: 'arm(R)',
            strokeColor: '5C00B8'
          }, {
            key: 'chest(L)',
            strokeColor: 'FF7519'
          }, {
            key: 'chest(R)',
            strokeColor: 'FF7519'
          }, {
            key: 'face(L)',
            strokeColor: 'B800B8'
          }, {
            key: 'face(R)',
            strokeColor: 'B800B8'
          }],
          onClick: function(event) {
            var array = event.key.split("(");
            var name = array[0];
            if (event['selected'] == true) {
  
	   } else {
             
	var pageId = $.mobile.activePage[0].id; 
	var arrName = pageId.split('Page')[0];
             removeFromKO(event.key, arrName); //update ko to exclude the deslected body part
               //update ko with new array
             
            }
          }
        }); //mapster
        

        function removeFromKO(alt, arrName) {
        	
	  var lastElem;
	  var arr = getArray(arrName);

          pos = $.inArray(alt, arr);
	
          if (pos!=-1) 
	  {
		lastElem = arr.length-2;
		 arr.splice(pos, 1);
		 arr.splice(lastElem, 1);	
          }
        	updateArray(arrName, arr);  
        }


function updateArray(arrName, arr){
	switch(arrName){

	case "numbness":
	    viewModel.numbnessLoc(arr); 
	break;
	case "tingling":
		viewModel.tinglingLoc(arr); 
	break;
	case "weakness":
		viewModel.weaknessLoc(arr); 
	break;
	case "jerking":
		viewModel.jerkingLoc(arr); 
	break;
	case "tremor":
		viewModel.tremorLoc(arr); 
	break;
	case "pain":
		viewModel.painLoc(arr); 
	break;
	default:
	break;
	}
}

function getArray(arrName){
	switch(arrName){

	case "numbness":
	    return viewModel.numbnessLoc(); 
	break;
	case "tingling":
		return viewModel.tinglingLoc(); 
	break;
	case "weakness":
		return viewModel.weaknessLoc(); 
	break;
	case "jerking":
		return viewModel.jerkingLoc(); 
	break;
	case "tremor":
		return viewModel.tremorLoc(); 
	break;
	case "pain":
		return viewModel.painLoc(); 
	break;
	default:
	break;
	}
}

        $("button").on('click', function() {
          if (this.id == 'nextButton') {
	alert('derpina');
           nextPage();
          } else {
            sensation(this.id);
          }
        });
$(".nextButton").on('click', nextPage);
      }); //document ready
     


      function sensation(id) {
        switch (id) {
          case "numbnessBut":
            $.mobile.changePage("#numbnessPage");
            break;
          case "tinglingBut":
            $.mobile.changePage("#tinglingPage");
            break;
          case "weaknessBut":
            $.mobile.changePage("#weaknessPage");
            break;
          case "jerkingBut":
            $.mobile.changePage("#jerkingPage");
            break;
          case "tremorBut":
            $.mobile.changePage("#tremorPage");
            break;
          case "painBut":
            $.mobile.changePage("#painPage");
            break;
          default:
            break;
        }
      }

      function nextPage() {
        var currentPageID = $.mobile.activePage[0].id; 

        switch (currentPageID) {
          case "numbnessPage":
            $.mobile.changePage("#tinglingPage");
            break;
          case "tinglingPage":
            $.mobile.changePage("#weaknessPage");
            break;
          case "weaknessPage":
            $.mobile.changePage("#jerkingPage");
            break;
          case "jerkingPage":
            $.mobile.changePage("#tremorPage");
            break;
          case "tremorPage":
            $.mobile.changePage("#painPage");
            break;
          default:
            break;
        }
      }

    </script>
  </body>

</html>
